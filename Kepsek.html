<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kepala Sekolah</title>
    <link id="favicon" rel="icon" type="image/x-icon" href="https://kemendikdasmen.go.id/web/image/website/21/favicon?unique=c3563e4">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- Library untuk PDF -->
    <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/jspdf-autotable@3.8.2/dist/jspdf.plugin.autotable.js"></script>
    <!-- Library untuk Grafik -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #4F46E5; --secondary-color: #6B7280; --success-color: #10B981;
            --danger-color: #EF4444; --warning-color: #F59E0B; --info-color: #3B82F6;
            --light-color: #F9FAFB; --dark-color: #1F2937; --background-color: #F3F4F6;
            --text-color: #111827; --card-bg-color: #ffffff; --shadow: 0 4px 15px rgba(0, 0, 0, 0.07);
            --border-radius: 12px;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--background-color); color: var(--text-color); line-height: 1.6; }
        
        /* === LOGIN STYLES === */
        #login-container {
            display: flex; justify-content: center; align-items: center; min-height: 100vh;
            padding: 20px; box-sizing: border-box;
            background: linear-gradient(135deg, var(--dark-color), #4338CA);
        }
        .login-card {
            background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(10px);
            border-radius: 20px; padding: 40px; width: 100%; max-width: 450px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .login-card h2 { font-size: 28px; font-weight: 700; margin: 0 0 10px 0; color: var(--dark-color); }
        .login-card p { color: var(--secondary-color); font-size: 16px; margin-bottom: 30px; }
        #loginForm .form-group { position: relative; margin-bottom: 25px; }
        #loginForm .form-group label {
            position: absolute; top: 15px; left: 15px; color: var(--secondary-color);
            pointer-events: none; transition: all 0.3s ease; padding: 0 5px; background: none;
        }
        #loginForm .form-group input {
            width: 100%; padding: 15px; box-sizing: border-box; border-radius: 8px;
            border: 1px solid #ced4da; background: #fff; font-size: 14px;
        }
        #loginForm .form-group input:focus {
            outline: none; border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
        #loginForm .form-group input:focus + label, #loginForm .form-group input:not(:placeholder-shown) + label {
            top: -10px; left: 10px; font-size: 12px; color: var(--primary-color);
            background: var(--card-bg-color);
        }
        #loginButton {
             width: 100%; background: linear-gradient(45deg, var(--info-color), var(--primary-color));
             color: white; padding: 16px 30px; border: none; border-radius: 8px;
             font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;
             box-shadow: 0 4px 20px rgba(59, 130, 246, 0.4);
        }
        #loginButton:hover { transform: translateY(-3px); box-shadow: 0 7px 25px rgba(59, 130, 246, 0.5); }
        #loginButton:disabled { background: #adb5bd; cursor: not-allowed; }

        .home-link {
            font-size: 28px;
            color: var(--secondary-color);
            text-decoration: none;
            transition: all 0.2s ease-in-out;
            display: inline-block; /* for transform to work */
        }

        .home-link:hover {
            color: var(--primary-color);
            transform: scale(1.1);
        }

        /* === DASHBOARD STYLES === */
        #dashboard-container { display: flex; }
        .sidebar { width: 260px; background-color: var(--dark-color); color: #E5E7EB; display: flex; flex-direction: column; height: 100vh; position: fixed; }
        .sidebar-header { padding: 25px; text-align: center; border-bottom: 1px solid #374151; }
        .sidebar-header h2 { font-size: 24px; color: white; }
        .sidebar-nav { flex-grow: 1; margin-top: 20px;}
        .sidebar-nav a { display: flex; align-items: center; gap: 15px; color: #D1D5DB; text-decoration: none; padding: 18px 25px; font-weight: 500; transition: background-color 0.2s, color 0.2s; border-left: 4px solid transparent; }
        .sidebar-nav a:hover { background-color: #374151; color: white; }
        .sidebar-nav a.active { background-color: #4F46E5; color: white; border-left-color: var(--info-color); }
        .sidebar-footer { padding: 20px 25px; border-top: 1px solid #374151;}

        .main-content { margin-left: 260px; width: calc(100% - 260px); padding: 30px; }
        .page { display: none; }
        .page.active { display: block; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; flex-wrap: wrap; gap: 15px;}
        .page-header h1 { font-size: 32px; font-weight: 700; }
        .page-header-actions { display: flex; gap: 10px; flex-wrap: wrap; }
        .btn { padding: 10px 20px; border: none; cursor: pointer; font-size: 15px; font-weight: 500; border-radius: 8px; transition: all 0.2s; display: inline-flex; align-items: center; gap: 8px; }
        .btn-primary { background-color: var(--primary-color); color: white; } .btn-primary:hover { background-color: #4338CA; }
        .btn-success { background-color: var(--success-color); color: white; } .btn-success:hover { background-color: #059669; }
        .btn-danger { background-color: var(--danger-color); color: white; } .btn-danger:hover { background-color: #d13838; }
        .card { background-color: var(--card-bg-color); padding: 25px; border-radius: var(--border-radius); box-shadow: var(--shadow); margin-bottom: 30px; }
        .table-wrapper { overflow-x: auto; max-height: 70vh; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px 15px; border-bottom: 1px solid #E5E7EB; text-align: left; white-space: nowrap;}
        th { background-color: var(--light-color); font-weight: 600; position: sticky; top: 0; z-index: 1;}
        td.text-center { text-align: center; }
        .filters-container { display: flex; flex-wrap: wrap; gap: 20px; align-items: center; margin-bottom: 25px; }
        .filter-group { display: flex; align-items: center; gap: 10px; }
        .filter-group label { font-weight: 500; }
        .filter-group input, .filter-group select { padding: 8px 12px; border-radius: 8px; border: 1px solid #D1D5DB; }
        .chart-container { position: relative; height:60vh; width:100%; margin-top:20px;}
        
        #kesimpulan-content { font-size: 1.1em; line-height: 1.8; }
        #ibadah-charts-container, #waktu-charts-container, #kegiatan-charts-container, #belajar-makanan-charts-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 25px; }
        .chart-wrapper { position: relative; height: 40vh; }
        
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); align-items: center; justify-content: center; animation: fadeIn 0.3s; }
        .modal.show { display: flex; }
        .modal-content { background-color: var(--card-bg-color); padding: 30px; border-radius: var(--border-radius); width: 90%; max-width: 500px; box-shadow: var(--shadow); animation: slideIn 0.3s; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
        .modal-header h3 { margin: 0; font-size: 1.3em; }
        .modal-header .close { font-size: 32px; font-weight: bold; cursor: pointer; color: #aaa; transition: color 0.2s; }
        .modal-header .close:hover { color: var(--danger-color); }
        .modal-body .form-group { margin-bottom: 15px; }
        .modal-body label { font-weight: 600; }
        .modal-body .form-info { background-color: #f8f9fa; padding: 10px; border-radius: 8px; border: 1px solid #e9ecef; }
        .modal-footer { text-align: right; margin-top: 25px; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideIn { from { transform: translateY(-30px); } to { transform: translateY(0); } }

        .status-icon { font-size: 1.5em; cursor: pointer; transition: transform 0.2s; }
        .status-icon:hover { transform: scale(1.2); }
        .text-success { color: var(--success-color); }
        .text-warning { color: var(--warning-color); }
        .text-danger { color: var(--danger-color); }
        .text-info { color: var(--info-color); }
        .text-secondary { color: var(--secondary-color); }
        .text-muted { color: #adb5bd; }

        .form-group label { display: block; font-weight: 500; margin-bottom: 5px; font-size: 0.9em; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px 12px; border-radius: 8px; border: 1px solid #D1D5DB; transition: border-color 0.2s, box-shadow 0.2s; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); outline: none;}
        textarea { resize: vertical; }
    </style>
</head>
<body>
    <div id="login-container">
        <div class="login-card">
            <h2>Login Kepala Sekolah</h2>
            <p>Masukkan username dan NIP Anda.</p>
            <form id="loginForm">
                <div class="form-group">
                    <input type="text" id="username" placeholder=" " required autocomplete="off">
                    <label for="username">Username</label>
                </div>
                <div class="form-group">
                    <input type="password" id="password" placeholder=" " required>
                    <label for="password">NIP</label>
                </div>
                <button type="submit" id="loginButton">Login</button>
				<a href="index.html" class="home-link" title="Kembali ke Beranda"><i class="fas fa-home"></i></a>
            </form>
        </div>
    </div>

    <div id="dashboard-container" style="display: none;">
        <aside class="sidebar">
            <div class="sidebar-header"><h2>Dashboard Kepsek</h2></div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-link active" data-page="page-data"><i class="fas fa-chart-bar"></i> Data 7 KAIH</a>
                <a href="#" class="nav-link" data-page="page-analisis"><i class="fas fa-search-plus"></i> Analisis Rincian</a>
                <a href="#" class="nav-link" data-page="page-kesimpulan"><i class="fas fa-lightbulb"></i> Kesimpulan</a>
                <a href="#" class="nav-link" data-page="page-supervisi"><i class="fas fa-user-shield"></i> Supervisi Guru</a>
            </nav>
            <div class="sidebar-footer">
                <button class="btn btn-danger" id="logoutButton" style="width: 100%;"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </div>
        </aside>

        <main class="main-content">
            <div class="page-header">
                <h1 id="pageTitle">Dashboard Analisis 7KAIH</h1>
                <div id="page-actions-container" class="page-header-actions">
                    <button class="btn btn-success" onclick="downloadGlobalRekapPDF()"><i class="fas fa-file-pdf"></i> Download Laporan</button>
                </div>
            </div>
            
            <div id="filter-card" class="card">
                 <div class="filters-container">
                    <div class="filter-group">
                        <label for="startDate">Dari:</label> <input type="date" id="startDate">
                        <label for="endDate">Sampai:</label> <input type="date" id="endDate">
                    </div>
                    <div class="filter-group">
                         <label for="kelasFilter">Kelas:</label> <select id="kelasFilter"></select>
                    </div>
                     <button class="btn btn-primary" onclick="applyAndRenderAll()"><i class="fas fa-filter"></i> Terapkan Filter</button>
                 </div>
            </div>
            
            <div id="page-data" class="page active">
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Grafik Predikat Global</h2><div class="chart-container"><canvas id="globalChart"></canvas></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Rekap Predikat Dominan Per Kelas</h2><div class="table-wrapper"><table id="globalRekapTable"></table></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Persentase Perolehan Setiap Kategori</h2><div class="table-wrapper"><table id="percentageTable"></table></div></div>
            </div>

            <div id="page-analisis" class="page">
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Rincian Data Laporan Siswa</h2><div class="table-wrapper"><table id="analisisLaporanTable"></table></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Grafik Persentase Pelaksanaan Ibadah</h2><div id="ibadah-charts-container" style="margin-top:20px;"></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Grafik Bangun Pagi dan Tidur Cepat</h2><div id="waktu-charts-container" style="margin-top:20px;"></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Grafik Berolahraga dan Bermasyarakat</h2><div id="kegiatan-charts-container" style="margin-top:20px;"></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Grafik Belajar dan Makanan Sehat</h2><div id="belajar-makanan-charts-container" style="margin-top:20px;"></div></div>
            </div>
            
            <div id="page-kesimpulan" class="page"><div class="card"><h2 style="font-size: 20px; font-weight: 600;">Ringkasan dan Kesimpulan</h2><div id="kesimpulan-content" style="margin-top:20px;">Memuat kesimpulan...</div></div></div>

            <div id="page-supervisi" class="page">
                <div class="card"><div class="filters-container"><div class="filter-group"><label for="guruFilter">Filter Guru:</label><select id="guruFilter" onchange="filterSupervisiTable()"></select></div></div></div>
                <div id="supervisi-content"></div>
            </div>
        </main>
    </div>

    <div id="infoModal" class="modal"><div class="modal-content"><div class="modal-header"><h3 id="infoModalTitle">Pemberitahuan</h3><span class="close" onclick="closeModal('infoModal')">&times;</span></div><div style="padding: 20px 5px;"><p id="infoModalMessage"></p></div></div></div>
    
    <!-- Modal Administrasi -->
    <div id="admModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="admModalTitle">Penilaian Administrasi</h3>
                <span class="close" onclick="closeModal('admModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Dokumen dari Guru</label>
                    <div id="admModalLink" class="form-info"></div>
                </div>
                <div class="form-group">
                    <label for="admModalStatus">Status Penilaian</label>
                    <select id="admModalStatus">
                        <option value="Belum Diperiksa">Belum Diperiksa</option>
                        <option value="Disetujui">Disetujui</option>
                        <option value="Diperbaiki">Diperbaiki</option>
                        <option value="Ditolak">Ditolak</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="admModalKomentar">Komentar / Catatan</label>
                    <textarea id="admModalKomentar" rows="3" placeholder="Berikan masukan untuk guru..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="admModalSaveButton" class="btn btn-primary"><i class="fas fa-save"></i> Simpan Penilaian</button>
            </div>
        </div>
    </div>

    <!-- Modal Supervisi -->
    <div id="supervisiModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="supervisiModalTitle">Penilaian Supervisi</h3>
                <span class="close" onclick="closeModal('supervisiModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Link dari Guru</label>
                    <div id="supervisiModalLinks" class="form-info"></div>
                </div>
                <div class="form-group">
                    <label for="supervisiModalTanggal">Tanggal Pelaksanaan</label>
                    <input type="date" id="supervisiModalTanggal">
                </div>
                <div class="form-group">
                    <label for="supervisiModalNilai">Nilai</label>
                    <input type="number" id="supervisiModalNilai" placeholder="Masukkan nilai...">
                </div>
                <div class="form-group">
                    <label for="supervisiModalKomentar">Komentar / Catatan</label>
                    <textarea id="supervisiModalKomentar" rows="3" placeholder="Berikan masukan untuk guru..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="supervisiModalSaveButton" class="btn btn-primary"><i class="fas fa-save"></i> Simpan Penilaian</button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <script>
	const _0x1a7f45=_0xf50f;(function(_0x1e983b,_0x5bf96b){const _0x32a5b7=_0xf50f,_0x5d89ee=_0x1e983b();while(!![]){try{const _0x2475c2=-parseInt(_0x32a5b7(0x22f))/0x1*(parseInt(_0x32a5b7(0x21f))/0x2)+-parseInt(_0x32a5b7(0x19b))/0x3*(parseInt(_0x32a5b7(0x269))/0x4)+parseInt(_0x32a5b7(0x237))/0x5*(-parseInt(_0x32a5b7(0x147))/0x6)+-parseInt(_0x32a5b7(0x197))/0x7*(-parseInt(_0x32a5b7(0x1b6))/0x8)+parseInt(_0x32a5b7(0x267))/0x9+-parseInt(_0x32a5b7(0x254))/0xa*(parseInt(_0x32a5b7(0x172))/0xb)+parseInt(_0x32a5b7(0x146))/0xc;if(_0x2475c2===_0x5bf96b)break;else _0x5d89ee['push'](_0x5d89ee['shift']());}catch(_0x31c9a0){_0x5d89ee['push'](_0x5d89ee['shift']());}}}(_0x15e1,0xc192e));const firebaseConfig={'apiKey':_0x1a7f45(0x25c),'authDomain':_0x1a7f45(0x1d4),'projectId':'agungp-23b34','storageBucket':'agungp-23b34.firebasestorage.app','messagingSenderId':_0x1a7f45(0x1ff),'appId':'1:1013129803727:web:97bf8baac74e07643884ba'};!firebase['apps'][_0x1a7f45(0x272)]&&firebase[_0x1a7f45(0x1e2)](firebaseConfig);function _0xf50f(_0x1ddfaf,_0x137e7c){const _0x15e184=_0x15e1();return _0xf50f=function(_0xf50fac,_0x53e584){_0xf50fac=_0xf50fac-0x146;let _0x1002cb=_0x15e184[_0xf50fac];return _0x1002cb;},_0xf50f(_0x1ddfaf,_0x137e7c);}const db=firebase[_0x1a7f45(0x161)]();let globalSettings={},allLaporanData=[],allGuruData=[],allGuruAdmData={},allGuruSupervisiData={},dataLoaded=![],chartInstances={};const loginContainer=document[_0x1a7f45(0x259)](_0x1a7f45(0x14a)),dashboardContainer=document[_0x1a7f45(0x259)](_0x1a7f45(0x1d7)),loginForm=document[_0x1a7f45(0x259)](_0x1a7f45(0x1a4)),loginButton=document[_0x1a7f45(0x259)]('loginButton'),logoutButton=document['getElementById']('logoutButton'),navLinks=document[_0x1a7f45(0x20c)](_0x1a7f45(0x287));navLinks[_0x1a7f45(0x155)](_0x17c31e=>_0x17c31e[_0x1a7f45(0x286)](_0x1a7f45(0x201),_0x1b71f3=>{const _0x56e7fd=_0x1a7f45;_0x1b71f3['preventDefault'](),navigateTo(_0x17c31e[_0x56e7fd(0x1aa)][_0x56e7fd(0x14d)]);}));function navigateTo(_0x339b02){const _0x1fc9b4=_0x1a7f45;document[_0x1fc9b4(0x20c)](_0x1fc9b4(0x22c))[_0x1fc9b4(0x155)](_0x2c0821=>_0x2c0821[_0x1fc9b4(0x26c)][_0x1fc9b4(0x251)](_0x1fc9b4(0x149))),document['getElementById'](_0x339b02)[_0x1fc9b4(0x26c)]['add'](_0x1fc9b4(0x149)),navLinks[_0x1fc9b4(0x155)](_0x1456ef=>_0x1456ef[_0x1fc9b4(0x26c)][_0x1fc9b4(0x251)](_0x1fc9b4(0x149)));const _0x274e0f=document[_0x1fc9b4(0x18e)]('.nav-link[data-page=\x22'+_0x339b02+'\x22]');_0x274e0f['classList'][_0x1fc9b4(0x243)]('active'),document[_0x1fc9b4(0x259)](_0x1fc9b4(0x1a9))['textContent']=_0x274e0f['textContent'][_0x1fc9b4(0x1cc)]();const _0x3d2678=_0x339b02===_0x1fc9b4(0x277);document[_0x1fc9b4(0x259)]('filter-card')[_0x1fc9b4(0x166)][_0x1fc9b4(0x281)]=_0x3d2678?_0x1fc9b4(0x1d1):_0x1fc9b4(0x1ef),document[_0x1fc9b4(0x259)](_0x1fc9b4(0x266))[_0x1fc9b4(0x166)]['display']=_0x3d2678?_0x1fc9b4(0x1d1):'flex',_0x3d2678&&ensureDataLoaded()[_0x1fc9b4(0x1e4)](renderSupervisiGuru);}function openModal(_0x31db23){const _0x412318=_0x1a7f45;document[_0x412318(0x259)](_0x31db23)[_0x412318(0x26c)][_0x412318(0x243)](_0x412318(0x1f9));}function _0x15e1(){const _0x2d31da=['users','title','Bangun\x20Pagi','ibadah4','kelas','kurangText','toFixed','trim','Tidak\x20Melaksanakan','Ibadah\x204','<tr\x20data-nip=\x22','key','none','supervisi-content','Analisis\x20Tidur\x20Cepat','agungp-23b34.firebaseapp.com','previous','05:00','dashboard-container','getWidth','appendChild','nip','urlDokumen','preventDefault','not-found','rgba(245,\x20158,\x2011,\x200.7)','Ditolak','Gagal\x20menyimpan:\x20','center','initializeApp','onload','then','Informasi','\x20siswa)','Anak\x20Hebat','ibadah7','collection','rgba(201,\x20203,\x20207,\x200.7)','Sukses','Revisi','makananLauk','doughnut','block','Tidur\x20Cepat','submit','destroy','fas\x20fa-edit\x20text-warning','makananAir','doc','supervisiModalTanggal','.status','Diperbaiki','show','Guru','Perlu\x20Peningkatan','administrasi','%\x20(','.pdf','1013129803727','where','click','aktif','<p>Pengaturan\x20ibadah\x20tidak\x20ditemukan.</p>','tidurCepat','finalY','insertRow','administrasi_guru','\x20s/d\x20','Periode:\x20','Tepat\x20Waktu','bangunPagi','querySelectorAll','<tr><td\x20colspan=\x22','Kategori','true','Login\x20error:','top','text','timestamp','supervisiModal','isKepsekLoggedIn','Bermasyarakat','<thead><tr>','labels','waktu-charts-container','innerHTML','Analisis\x20Bangun\x20Pagi','<option\x20value=\x22\x22>Semua\x20Guru</option>','Kegiatan\x20Bermasyarakat','textContent','64SqtIrz','flex','Ibadah\x201','ibadah1','location','\x27)\x22></i></td>','tbody','globalRekapTable','\x22\x20onclick=\x22openAdmModal(\x27','Tidak','makananSayur','\x22\x20onclick=\x22openSupervisiModal(\x27','#supervisi-content\x20table','.page','startDate','landscape','38149tsaVUB','kegiatanMasyarakat','makanBergizi','save','<p>Tidak\x20ada\x20data\x20laporan\x20untuk\x20ditampilkan.</p>','Olahraga','</tr></thead><tbody></tbody>','Melaksanakan','270330FiCpbg','clear','infoModalMessage','namaSekolah','href','Terbiasa','keys','Error','Kegiatan\x20Belajar','pie','Pemberitahuan','Ibadah\x207','add','\x20<i\x20class=\x22fas\x20fa-external-link-alt\x20fa-xs\x22></i></a>','Lauk\x20Pauk','<p>Berdasarkan\x20data\x20dari\x20<strong>','Belajar','komentar','createElement','Login\x20Gagal','includes','laporan','pengaturan','rgba(153,\x20102,\x20255,\x200.7)','\x20status-icon\x22\x20title=\x22','urlFoto','remove','Data\x20supervisi\x20baru\x20berhasil\x20dibuat!','code','10irnkRW','infoModal','Makanan\x20Sehat','taatText','namaSiswa','getElementById','disabled','Karbo','AIzaSyBzBDsyG-XOD8n_IbwdSmpaAw5lnPqt9QI','Ibadah\x202','admModalSaveButton','username','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>Lihat\x20Foto\x20<i\x20class=\x22fas\x20fa-external-link-alt\x20fa-xs\x22></i></a>','nama','Login','<a\x20href=\x22','data','%\x20\x27Perlu\x20Peningkatan\x27).</p>','page-actions-container','9776133wuwZRc','onclick','1364416UrQgxc','kelasFilter','update','classList','percentageTable','setItem','waktu','endDate','canvas','length','Masyarakat','olahraga','</strong>\x20(','kurang','page-supervisi','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>Lihat\x20Dokumen\x20<i\x20class=\x22fas\x20fa-external-link-alt\x20fa-xs\x22></i></a>','ibadah6','url','infoSekolah','supervisiModalLinks','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>Lihat\x20Dokumen\x20dari\x20','autoTable','className','N/A','display','exists','terbiasaText','bar','Belum\x20ada\x20link','addEventListener','.nav-link','</tr></thead><tbody>','Memuat\x20data,\x20mohon\x20tunggu...','Belum\x20Diperiksa','22918080TdMXBQ','102sIRoCK','tempatBelajar','active','login-container','taatValue','Perlu\x20Perbaikan','page','<th>','values','get','Username\x20tidak\x20ditemukan.','getItem','page-data','internal','forEach','Sudah\x20dinilai:\x20','Administrasi:\x20','Beribadah','admModalKomentar','label','jspdf','belajar','tanggal','Tidak\x20Tepat','set','error','firestore','<td\x20class=\x22text-center\x22><i\x20class=\x22','Kegiatan\x20Olahraga','message','rgba(255,\x2099,\x20132,\x200.7)','style','Disetujui','</tr>','Kelas','status','Gagal\x20memuat\x20data\x20awal:\x20','Jumlah\x20Laporan','div','guruFilter','taat','nilai','Peringatan','7369813jdcfen','admModalLink','makananKarbo','makananSusu','Supervisi:\x20','Ibadah\x205','rgba(255,\x20205,\x2086,\x200.7)','join','fas\x20fa-exclamation-circle\x20text-muted','Siap\x20dinilai','<div\x20class=\x22card\x20text-center\x22><p>Memuat\x20data\x20supervisi...</p></div>','fas\x20fa-tasks\x20text-info','<p>Tidak\x20ada\x20data\x20yang\x20cukup\x20untuk\x20membuat\x20kesimpulan.</p>','rgba(255,\x20159,\x2064,\x200.7)','.komentar','\x22\x20class=\x22text-center\x22>Tidak\x20ada\x20data.</td></tr>','Perubahan\x20administrasi\x20disimpan!','Air\x20Putih','setHours','rgba(75,\x20192,\x20192,\x200.7)','sort','Susu','admModalStatus','beribadah','fas\x20fa-times-circle\x20text-danger','chart-wrapper','Dokumen\x20guru\x20tidak\x20ditemukan.\x20Guru\x20harus\x20menginput\x20URL\x20terlebih\x20dahulu\x20sebelum\x20dinilai.','%\x20\x27Anak\x20Hebat\x27).</p><p><strong>Perlu\x20Peningkatan:</strong>\x20<strong>','querySelector','Laporan\x207KAIH','fas\x20fa-stamp\x20text-success','kegiatan-charts-container','totalHari','Belum\x20ada\x20link\x20foto.','supervisiModalKomentar','rincianOlahraga','materiBelajar','29974HwZhdc','setFontSize','kegiatan','21:00','6SikeOW','\x27,\x20\x27','value','infoModalTitle','Laporan_Global_Kepsek_','filter','Semua\x20Sekolah','supervisi_guru','getContext','loginForm','map','password','<p>Tidak\x20ada\x20data.</p>','</tbody></table></div></div>','pageTitle','dataset','Makan\x20Bergizi','supervisiSettings','role','\x22><td>','global','ibadah','Analisis\x20Ibadah\x20','limit','tanggalKegiatan','<div\x20class=\x22card\x22><h2><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20Supervisi\x20Kelas</h2><div\x20class=\x22table-wrapper\x22><table\x20id=\x22supervisiTable\x22><thead><tr><th>Guru</th>','supervisiModalNilai','2408ktUETJ','fas\x20fa-check-circle\x20text-success','bermasyarakat','Belum\x20ada\x20link\x20dokumen.','docs','Nama\x20Siswa','</th>','push','<br>','ibadah-charts-container','reload','admModal','rgba(54,\x20162,\x20235,\x200.7)','insertCell','#percentageTable'];_0x15e1=function(){return _0x2d31da;};return _0x15e1();}function closeModal(_0xac1562){const _0x409b04=_0x1a7f45;document[_0x409b04(0x259)](_0xac1562)['classList'][_0x409b04(0x251)](_0x409b04(0x1f9));}function showInfoModal(_0x1a309c,_0x4c27bd=_0x1a7f45(0x241)){const _0x5a118b=_0x1a7f45;document['getElementById'](_0x5a118b(0x19e))[_0x5a118b(0x21e)]=_0x4c27bd,document[_0x5a118b(0x259)](_0x5a118b(0x239))[_0x5a118b(0x21e)]=_0x1a309c,openModal(_0x5a118b(0x255));}async function handleLogin(_0x41fddc,_0x280ac1){const _0x593c27=_0x1a7f45;loginButton[_0x593c27(0x25a)]=!![],loginButton[_0x593c27(0x21e)]='Memverifikasi...';try{const _0x2d4b35=await db[_0x593c27(0x1e9)](_0x593c27(0x1c5))[_0x593c27(0x200)](_0x593c27(0x25f),'==',_0x41fddc)[_0x593c27(0x1b2)](0x1)[_0x593c27(0x150)]();if(_0x2d4b35['empty'])throw new Error(_0x593c27(0x151));const _0x24c127=_0x2d4b35[_0x593c27(0x1ba)][0x0][_0x593c27(0x264)]();if(_0x280ac1===_0x24c127[_0x593c27(0x1da)]){if(_0x24c127[_0x593c27(0x1ad)]!=='Kepsek')throw new Error('Anda\x20tidak\x20memiliki\x20akses\x20sebagai\x20Kepala\x20Sekolah.');sessionStorage[_0x593c27(0x26e)](_0x593c27(0x215),_0x593c27(0x20f)),loginContainer['style'][_0x593c27(0x281)]=_0x593c27(0x1d1),dashboardContainer[_0x593c27(0x166)]['display']='flex',navigateTo('page-data'),showInfoModal('Memuat\x20data,\x20mohon\x20tunggu...',_0x593c27(0x1e5)),await ensureDataLoaded(),applyAndRenderAll(),closeModal('infoModal');}else throw new Error('Password\x20(NIP)\x20salah.');}catch(_0x3277d0){console[_0x593c27(0x160)](_0x593c27(0x210),_0x3277d0),showInfoModal(_0x3277d0[_0x593c27(0x164)],_0x593c27(0x24a));}finally{loginButton[_0x593c27(0x25a)]=![],loginButton[_0x593c27(0x21e)]=_0x593c27(0x262);}}loginForm[_0x1a7f45(0x286)](_0x1a7f45(0x1f1),_0x301420=>{const _0x2ecd11=_0x1a7f45;_0x301420[_0x2ecd11(0x1dc)]();const _0x4448bb=document['getElementById'](_0x2ecd11(0x25f))[_0x2ecd11(0x19d)][_0x2ecd11(0x1cc)](),_0x262a20=document[_0x2ecd11(0x259)](_0x2ecd11(0x1a6))[_0x2ecd11(0x19d)][_0x2ecd11(0x1cc)]();if(_0x4448bb&&_0x262a20)handleLogin(_0x4448bb,_0x262a20);else showInfoModal('Username\x20dan\x20NIP\x20tidak\x20boleh\x20kosong.',_0x2ecd11(0x171));}),logoutButton[_0x1a7f45(0x286)](_0x1a7f45(0x201),_0x561117=>{const _0x1092e7=_0x1a7f45;_0x561117[_0x1092e7(0x1dc)](),sessionStorage[_0x1092e7(0x238)](),window[_0x1092e7(0x223)][_0x1092e7(0x1c0)]();}),window[_0x1a7f45(0x1e3)]=async()=>{const _0x6f8d15=_0x1a7f45;sessionStorage[_0x6f8d15(0x152)](_0x6f8d15(0x215))==='true'?(loginContainer['style'][_0x6f8d15(0x281)]=_0x6f8d15(0x1d1),dashboardContainer[_0x6f8d15(0x166)][_0x6f8d15(0x281)]=_0x6f8d15(0x220),navigateTo(_0x6f8d15(0x153)),showInfoModal(_0x6f8d15(0x289),_0x6f8d15(0x1e5)),await ensureDataLoaded(),applyAndRenderAll(),closeModal(_0x6f8d15(0x255))):(loginContainer[_0x6f8d15(0x166)][_0x6f8d15(0x281)]=_0x6f8d15(0x220),dashboardContainer[_0x6f8d15(0x166)][_0x6f8d15(0x281)]=_0x6f8d15(0x1d1));};async function ensureDataLoaded(){const _0x32c4e2=_0x1a7f45;if(dataLoaded)return;try{const _0x5c220e=await db[_0x32c4e2(0x1e9)](_0x32c4e2(0x24d))[_0x32c4e2(0x1f5)](_0x32c4e2(0x1af))[_0x32c4e2(0x150)]();_0x5c220e[_0x32c4e2(0x282)]&&(globalSettings=_0x5c220e[_0x32c4e2(0x264)](),globalSettings[_0x32c4e2(0x27b)]&&globalSettings[_0x32c4e2(0x27b)]['logo']&&(document['getElementById']('favicon')[_0x32c4e2(0x23b)]=globalSettings[_0x32c4e2(0x27b)]['logo']));const [_0x44841b,_0x283a7d,_0x469bf9,_0x86ac73]=await Promise['all']([db['collection'](_0x32c4e2(0x24c))['orderBy'](_0x32c4e2(0x213),'desc')['get'](),db[_0x32c4e2(0x1e9)](_0x32c4e2(0x1c5))['where'](_0x32c4e2(0x1ad),'==',_0x32c4e2(0x1fa))[_0x32c4e2(0x150)](),db['collection'](_0x32c4e2(0x207))[_0x32c4e2(0x150)](),db['collection'](_0x32c4e2(0x1a2))['get']()]);allLaporanData=_0x44841b['docs'][_0x32c4e2(0x1a5)](_0x228a44=>_0x228a44['data']()),allGuruData=_0x283a7d[_0x32c4e2(0x1ba)][_0x32c4e2(0x1a5)](_0x395a65=>({'id':_0x395a65['id'],..._0x395a65[_0x32c4e2(0x264)]()})),_0x469bf9[_0x32c4e2(0x155)](_0x3686aa=>{const _0x5543ab=_0x32c4e2;allGuruAdmData[_0x3686aa['id']]=_0x3686aa[_0x5543ab(0x264)]();}),_0x86ac73[_0x32c4e2(0x155)](_0x1d16c8=>{const _0x39f6d8=_0x32c4e2;allGuruSupervisiData[_0x1d16c8['id']]=_0x1d16c8[_0x39f6d8(0x264)]();});const _0x1fde49=new Set(allLaporanData[_0x32c4e2(0x1a5)](_0x926464=>_0x926464[_0x32c4e2(0x1c9)])[_0x32c4e2(0x1a0)](Boolean)),_0x1dbf7a=[..._0x1fde49][_0x32c4e2(0x186)](),_0x148fd7=document[_0x32c4e2(0x259)]('kelasFilter');_0x148fd7['innerHTML']='<option\x20value=\x22\x22>Semua\x20Kelas</option>',_0x1dbf7a[_0x32c4e2(0x155)](_0x446c74=>{const _0x1f3bfb=_0x32c4e2;_0x148fd7[_0x1f3bfb(0x243)](new Option(_0x446c74,_0x446c74));});const _0x25eeda=document['getElementById'](_0x32c4e2(0x16e));_0x25eeda['options'][_0x32c4e2(0x272)]<=0x1&&(_0x25eeda['innerHTML']=_0x32c4e2(0x21c),allGuruData[_0x32c4e2(0x186)]((_0x77b2db,_0x385c00)=>_0x77b2db[_0x32c4e2(0x261)]['localeCompare'](_0x385c00[_0x32c4e2(0x261)]))[_0x32c4e2(0x155)](_0x487544=>_0x25eeda[_0x32c4e2(0x243)](new Option(_0x487544[_0x32c4e2(0x261)],_0x487544['nip'])))),dataLoaded=!![];}catch(_0x440ead){showInfoModal(_0x32c4e2(0x16b)+_0x440ead[_0x32c4e2(0x164)],_0x32c4e2(0x23e));}}function applyAndRenderAll(){const _0x272849=_0x1a7f45;if(!dataLoaded)return;const _0x4b6dea=document['getElementById'](_0x272849(0x22d))[_0x272849(0x19d)],_0xc5d4cf=document['getElementById'](_0x272849(0x270))[_0x272849(0x19d)],_0xf13566=document[_0x272849(0x259)](_0x272849(0x26a))['value'];let _0x97cc88=[...allLaporanData];if(_0x4b6dea&&_0xc5d4cf){const _0x1e943b=new Date(_0x4b6dea),_0xa070cd=new Date(_0xc5d4cf);_0xa070cd[_0x272849(0x184)](0x17,0x3b,0x3b,0x3e7),_0x97cc88=_0x97cc88['filter'](_0x103fd3=>_0x103fd3['tanggalKegiatan']&&new Date(_0x103fd3[_0x272849(0x1b3)])>=_0x1e943b&&new Date(_0x103fd3['tanggalKegiatan'])<=_0xa070cd);}let _0x18214a=[..._0x97cc88];_0xf13566&&(_0x18214a=_0x18214a['filter'](_0x474a81=>_0x474a81[_0x272849(0x1c9)]===_0xf13566));let _0x5c56cf=processStudentData(_0x97cc88);if(_0xf13566){const _0x2a87a4={};for(const _0x36e8f7 in _0x5c56cf){if(_0x5c56cf[_0x36e8f7][_0x272849(0x1c9)]===_0xf13566)_0x2a87a4[_0x36e8f7]=_0x5c56cf[_0x36e8f7];}_0x5c56cf=_0x2a87a4;}const _0x4343f1=processClassData(_0x5c56cf);Object[_0x272849(0x14f)](chartInstances)[_0x272849(0x155)](_0x30331a=>{const _0x524991=_0x272849;if(_0x30331a)_0x30331a[_0x524991(0x1f2)]();}),chartInstances={},renderGlobalRekapTable(_0x4343f1),renderPercentageTable(_0x4343f1,_0x5c56cf),renderGlobalChart(_0x4343f1,_0xf13566),renderAnalisisLaporanTable(_0x18214a),renderAnalisisIbadahCharts(_0x18214a),renderWaktuCharts(_0x18214a),renderKegiatanCharts(_0x18214a),renderBelajarMakananCharts(_0x18214a);}function renderAnalisisLaporanTable(_0x3e51cb){const _0x4a0bae=_0x1a7f45,_0x1152e4=document['getElementById']('analisisLaporanTable'),_0x678e82=[_0x4a0bae(0x169),_0x4a0bae(0x1bb),_0x4a0bae(0x221),_0x4a0bae(0x25d),'Ibadah\x203',_0x4a0bae(0x1ce),_0x4a0bae(0x177),'Ibadah\x206',_0x4a0bae(0x242),_0x4a0bae(0x1c7),_0x4a0bae(0x1f0),_0x4a0bae(0x234),_0x4a0bae(0x273),_0x4a0bae(0x247),_0x4a0bae(0x25b),'Sayur/Buah','Susu',_0x4a0bae(0x245),_0x4a0bae(0x183)];_0x1152e4[_0x4a0bae(0x21a)]=_0x4a0bae(0x217)+_0x678e82[_0x4a0bae(0x1a5)](_0x2460d8=>'<th>'+_0x2460d8+_0x4a0bae(0x1bc))[_0x4a0bae(0x179)]('')+_0x4a0bae(0x235);const _0x29f237=_0x1152e4[_0x4a0bae(0x18e)](_0x4a0bae(0x225));if(_0x3e51cb['length']===0x0){_0x29f237[_0x4a0bae(0x21a)]=_0x4a0bae(0x20d)+_0x678e82['length']+'\x22\x20class=\x22text-center\x22>Tidak\x20ada\x20data\x20laporan\x20untuk\x20filter\x20yang\x20dipilih.</td></tr>';return;}_0x3e51cb['forEach'](_0x4c9014=>{const _0x107daa=_0x4a0bae,_0x349a99=_0x29f237[_0x107daa(0x206)](),_0x91a3ee=[_0x4c9014[_0x107daa(0x1c9)],_0x4c9014[_0x107daa(0x258)],_0x4c9014[_0x107daa(0x222)],_0x4c9014['ibadah2'],_0x4c9014['ibadah3'],_0x4c9014[_0x107daa(0x1c8)],_0x4c9014['ibadah5'],_0x4c9014[_0x107daa(0x279)],_0x4c9014[_0x107daa(0x1e8)],_0x4c9014['bangunPagi'],_0x4c9014[_0x107daa(0x204)],_0x4c9014[_0x107daa(0x195)],_0x4c9014['kegiatanMasyarakat'],((_0x4c9014[_0x107daa(0x148)]||'')+'\x20-\x20'+(_0x4c9014[_0x107daa(0x196)]||''))['substring'](0x0,0x1e),_0x4c9014[_0x107daa(0x174)],_0x4c9014[_0x107daa(0x229)],_0x4c9014[_0x107daa(0x175)],_0x4c9014[_0x107daa(0x1ed)],_0x4c9014['makananAir']];_0x91a3ee[_0x107daa(0x155)]((_0x1d9082,_0x4f07a0)=>{const _0x59e601=_0x107daa,_0x3cfb0c=_0x349a99[_0x59e601(0x1c3)]();if(typeof _0x1d9082==='boolean')_0x3cfb0c[_0x59e601(0x21e)]=_0x1d9082?'Ya':_0x59e601(0x228);else _0x3cfb0c[_0x59e601(0x21e)]=_0x1d9082||'-';});});}function renderAnalisisIbadahCharts(_0x180725){const _0x1b7bf3=_0x1a7f45,_0x4d7000=document['getElementById'](_0x1b7bf3(0x1bf));_0x4d7000[_0x1b7bf3(0x21a)]='';const {ibadahSettings:_0x4bd53f,ibadahOptions:_0x3cc22f}=globalSettings;if(!_0x4bd53f||!_0x3cc22f){_0x4d7000[_0x1b7bf3(0x21a)]=_0x1b7bf3(0x203);return;}const _0x1d4fe6=_0x180725[_0x1b7bf3(0x272)];if(_0x1d4fe6===0x0){_0x4d7000[_0x1b7bf3(0x21a)]=_0x1b7bf3(0x233);return;}for(let _0x5d4c33=0x1;_0x5d4c33<=0x7;_0x5d4c33++){if(!_0x4bd53f[_0x5d4c33-0x1])continue;const _0xbe6ead=_0x1b7bf3(0x1b0)+_0x5d4c33,_0x31e4cf=_0x3cc22f[_0xbe6ead]||[],_0x44f308=_0x1b7bf3(0x1b1)+_0x5d4c33,_0x4e747f={};_0x31e4cf[_0x1b7bf3(0x155)](_0x3df6ba=>_0x4e747f[_0x3df6ba]=0x0);let _0x5b5649=0x0;_0x180725[_0x1b7bf3(0x155)](_0xf300c2=>{const _0x4e77ea=_0x1b7bf3,_0x2360c8=_0xf300c2[_0xbe6ead];_0x2360c8&&_0x31e4cf[_0x4e77ea(0x24b)](_0x2360c8)?_0x4e747f[_0x2360c8]++:_0x5b5649++;});const _0xbbc253=[],_0x46e437=[],_0x1ebbfd=[_0x1b7bf3(0x185),_0x1b7bf3(0x17f),_0x1b7bf3(0x178),'rgba(54,\x20162,\x20235,\x200.7)','rgba(153,\x20102,\x20255,\x200.7)','rgba(255,\x2099,\x20132,\x200.7)'];let _0x5721e7=0x0;for(const _0x50f653 in _0x4e747f){_0x4e747f[_0x50f653]>0x0&&(_0xbbc253[_0x1b7bf3(0x1bd)](_0x50f653),_0x46e437[_0x1b7bf3(0x1bd)](_0x4e747f[_0x50f653]),_0x5721e7++);}_0x5b5649>0x0&&(_0xbbc253['push'](_0x1b7bf3(0x1cd)),_0x46e437['push'](_0x5b5649));if(_0x46e437['length']===0x0)continue;const _0x38e59d=document[_0x1b7bf3(0x249)]('div');_0x38e59d[_0x1b7bf3(0x27f)]=_0x1b7bf3(0x18b);const _0xf18199=document[_0x1b7bf3(0x249)]('canvas');_0x38e59d[_0x1b7bf3(0x1d9)](_0xf18199),_0x4d7000[_0x1b7bf3(0x1d9)](_0x38e59d),chartInstances[_0x1b7bf3(0x1b0)+_0x5d4c33]=new Chart(_0xf18199[_0x1b7bf3(0x1a3)]('2d'),{'type':_0x1b7bf3(0x240),'data':{'labels':_0xbbc253,'datasets':[{'data':_0x46e437,'backgroundColor':_0x1ebbfd,'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'title':{'display':!![],'text':_0x44f308,'font':{'size':0x10}},'legend':{'position':_0x1b7bf3(0x211)}}}});}}function renderWaktuCharts(_0x12a6b1){const _0xd2f9c4=_0x1a7f45,_0x14df23=document[_0xd2f9c4(0x259)](_0xd2f9c4(0x219));_0x14df23[_0xd2f9c4(0x21a)]='';const {waktu:waktu={}}=globalSettings,_0x147fd1=waktu['bangunPagi']||_0xd2f9c4(0x1d6),_0xf5ee3d=waktu[_0xd2f9c4(0x204)]||_0xd2f9c4(0x19a),_0x44789d=_0x12a6b1[_0xd2f9c4(0x272)];if(_0x44789d===0x0){_0x14df23[_0xd2f9c4(0x21a)]=_0xd2f9c4(0x1a7);return;}let _0x2174bb=0x0;_0x12a6b1[_0xd2f9c4(0x155)](_0x30fbff=>{const _0x89029c=_0xd2f9c4;if(_0x30fbff[_0x89029c(0x20b)]&&_0x30fbff[_0x89029c(0x20b)]<=_0x147fd1)_0x2174bb++;});let _0x1741f6=0x0;_0x12a6b1['forEach'](_0x3019cb=>{const _0x5ec2c5=_0xd2f9c4;if(_0x3019cb['tidurCepat']&&_0x3019cb[_0x5ec2c5(0x204)]<=_0xf5ee3d)_0x1741f6++;});const _0x374a5f=[{'title':_0xd2f9c4(0x21b),'labels':[_0xd2f9c4(0x20a),_0xd2f9c4(0x15e)],'data':[_0x2174bb,_0x44789d-_0x2174bb]},{'title':_0xd2f9c4(0x1d3),'labels':['Tepat\x20Waktu',_0xd2f9c4(0x15e)],'data':[_0x1741f6,_0x44789d-_0x1741f6]}];_0x374a5f['forEach']((_0x488a75,_0x37fb0b)=>{const _0xcdbe60=_0xd2f9c4,_0x3fdda4=document[_0xcdbe60(0x249)](_0xcdbe60(0x16d));_0x3fdda4[_0xcdbe60(0x27f)]=_0xcdbe60(0x18b);const _0x5cfade=document[_0xcdbe60(0x249)](_0xcdbe60(0x271));_0x3fdda4[_0xcdbe60(0x1d9)](_0x5cfade),_0x14df23[_0xcdbe60(0x1d9)](_0x3fdda4),chartInstances[_0xcdbe60(0x26f)+_0x37fb0b]=new Chart(_0x5cfade[_0xcdbe60(0x1a3)]('2d'),{'type':_0xcdbe60(0x240),'data':{'labels':_0x488a75[_0xcdbe60(0x218)],'datasets':[{'data':_0x488a75[_0xcdbe60(0x264)],'backgroundColor':[_0xcdbe60(0x185),_0xcdbe60(0x165)],'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'title':{'display':!![],'text':_0x488a75['title'],'font':{'size':0x10}}}}});});}function renderKegiatanCharts(_0x5c8a30){const _0x393231=_0x1a7f45,_0x35d4db=document[_0x393231(0x259)](_0x393231(0x191));_0x35d4db['innerHTML']='';const _0x5f1249=_0x5c8a30[_0x393231(0x272)];if(_0x5f1249===0x0){_0x35d4db[_0x393231(0x21a)]=_0x393231(0x1a7);return;}const _0x5939ef=[{'key':_0x393231(0x195),'title':_0x393231(0x163)},{'key':'kegiatanMasyarakat','title':_0x393231(0x21d)}];_0x5939ef[_0x393231(0x155)]((_0x2fd7ea,_0x19585a)=>{const _0xbe6c52=_0x393231;let _0x4573b5=0x0;_0x5c8a30[_0xbe6c52(0x155)](_0x45e904=>{const _0x140743=_0xbe6c52;if(_0x45e904[_0x2fd7ea[_0x140743(0x1d0)]]&&_0x45e904[_0x2fd7ea[_0x140743(0x1d0)]][_0x140743(0x1cc)]())_0x4573b5++;});const _0xcef4d=document[_0xbe6c52(0x249)](_0xbe6c52(0x16d));_0xcef4d[_0xbe6c52(0x27f)]=_0xbe6c52(0x18b);const _0x1c6c82=document[_0xbe6c52(0x249)](_0xbe6c52(0x271));_0xcef4d['appendChild'](_0x1c6c82),_0x35d4db[_0xbe6c52(0x1d9)](_0xcef4d),chartInstances[_0xbe6c52(0x199)+_0x19585a]=new Chart(_0x1c6c82[_0xbe6c52(0x1a3)]('2d'),{'type':_0xbe6c52(0x1ee),'data':{'labels':[_0xbe6c52(0x236),_0xbe6c52(0x1cd)],'datasets':[{'data':[_0x4573b5,_0x5f1249-_0x4573b5],'backgroundColor':[_0xbe6c52(0x1c2),_0xbe6c52(0x1ea)],'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'title':{'display':!![],'text':_0x2fd7ea[_0xbe6c52(0x1c6)],'font':{'size':0x10}}}}});});}function renderBelajarMakananCharts(_0x5195ec){const _0x529fec=_0x1a7f45,_0x4c3a3f=document[_0x529fec(0x259)]('belajar-makanan-charts-container');_0x4c3a3f[_0x529fec(0x21a)]='';const _0x29f1e3=_0x5195ec[_0x529fec(0x272)];if(_0x29f1e3===0x0){_0x4c3a3f[_0x529fec(0x21a)]=_0x529fec(0x1a7);return;}let _0x38f32d=0x0;_0x5195ec[_0x529fec(0x155)](_0x47d1e8=>{const _0x215d30=_0x529fec;if(_0x47d1e8[_0x215d30(0x148)]&&_0x47d1e8[_0x215d30(0x148)]['trim']()||_0x47d1e8[_0x215d30(0x196)]&&_0x47d1e8[_0x215d30(0x196)][_0x215d30(0x1cc)]())_0x38f32d++;});const _0x423055=document[_0x529fec(0x249)]('div');_0x423055[_0x529fec(0x27f)]='chart-wrapper';const _0x3bd518=document[_0x529fec(0x249)](_0x529fec(0x271));_0x423055['appendChild'](_0x3bd518),_0x4c3a3f[_0x529fec(0x1d9)](_0x423055),chartInstances[_0x529fec(0x15c)]=new Chart(_0x3bd518['getContext']('2d'),{'type':'pie','data':{'labels':[_0x529fec(0x247),'Tidak'],'datasets':[{'data':[_0x38f32d,_0x29f1e3-_0x38f32d],'backgroundColor':[_0x529fec(0x24e),'rgba(201,\x20203,\x20207,\x200.7)'],'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'title':{'display':!![],'text':_0x529fec(0x23f),'font':{'size':0x10}}}}});const _0xed2fe6={'Karbo':0x0,'Sayur/Buah':0x0,'Susu':0x0,'Lauk\x20Pauk':0x0,'Air\x20Putih':0x0};_0x5195ec[_0x529fec(0x155)](_0x25be4e=>{const _0x4dc9c1=_0x529fec;if(_0x25be4e[_0x4dc9c1(0x174)])_0xed2fe6[_0x4dc9c1(0x25b)]++;if(_0x25be4e[_0x4dc9c1(0x229)])_0xed2fe6['Sayur/Buah']++;if(_0x25be4e[_0x4dc9c1(0x175)])_0xed2fe6[_0x4dc9c1(0x187)]++;if(_0x25be4e['makananLauk'])_0xed2fe6[_0x4dc9c1(0x245)]++;if(_0x25be4e[_0x4dc9c1(0x1f4)])_0xed2fe6[_0x4dc9c1(0x183)]++;});const _0x55cd3b=document['createElement'](_0x529fec(0x16d));_0x55cd3b[_0x529fec(0x27f)]=_0x529fec(0x18b);const _0x156808=document[_0x529fec(0x249)]('canvas');_0x55cd3b['appendChild'](_0x156808),_0x4c3a3f[_0x529fec(0x1d9)](_0x55cd3b),chartInstances['makanan']=new Chart(_0x156808[_0x529fec(0x1a3)]('2d'),{'type':_0x529fec(0x284),'data':{'labels':Object[_0x529fec(0x23d)](_0xed2fe6),'datasets':[{'label':_0x529fec(0x16c),'data':Object['values'](_0xed2fe6),'backgroundColor':_0x529fec(0x17f),'borderWidth':0x1}]},'options':{'indexAxis':'y','responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'display':![]},'title':{'display':!![],'text':_0x529fec(0x256),'font':{'size':0x10}}}}});}function renderGlobalRekapTable(_0x20c98a){const _0x1fc5dc=_0x1a7f45,_0x56d311=document['getElementById'](_0x1fc5dc(0x226)),_0x1d91da=[_0x1fc5dc(0x169),_0x1fc5dc(0x158),_0x1fc5dc(0x1f0),_0x1fc5dc(0x1c7),_0x1fc5dc(0x234),_0x1fc5dc(0x247),_0x1fc5dc(0x216),_0x1fc5dc(0x1ab)];_0x56d311[_0x1fc5dc(0x21a)]=_0x1fc5dc(0x217)+_0x1d91da[_0x1fc5dc(0x1a5)](_0x1f6b14=>_0x1fc5dc(0x14e)+_0x1f6b14+_0x1fc5dc(0x1bc))[_0x1fc5dc(0x179)]('')+_0x1fc5dc(0x235);const _0x3603a0=_0x56d311[_0x1fc5dc(0x18e)](_0x1fc5dc(0x225));if(Object[_0x1fc5dc(0x23d)](_0x20c98a)['length']===0x0){_0x3603a0[_0x1fc5dc(0x21a)]=_0x1fc5dc(0x20d)+_0x1d91da[_0x1fc5dc(0x272)]+_0x1fc5dc(0x181);return;}Object[_0x1fc5dc(0x23d)](_0x20c98a)[_0x1fc5dc(0x186)]()[_0x1fc5dc(0x155)](_0xf24e2d=>{const _0x3733e5=_0x1fc5dc,_0x3731dc=_0x3603a0[_0x3733e5(0x206)]();_0x3731dc['insertCell']()['textContent']=_0xf24e2d;const _0x29c2b6=[_0x3733e5(0x189),_0x3733e5(0x204),_0x3733e5(0x20b),_0x3733e5(0x274),_0x3733e5(0x15c),_0x3733e5(0x1b8),_0x3733e5(0x231)];_0x29c2b6[_0x3733e5(0x155)](_0x513e89=>{const _0x18e4ed=_0x3733e5,_0x2c23a6=_0x3731dc[_0x18e4ed(0x1c3)](),_0xd18889=_0x20c98a[_0xf24e2d][_0x513e89];let _0x19f4e7=_0x18e4ed(0x280),_0x4ded58=0x0;if(_0xd18889)for(const _0x42ec51 in _0xd18889){_0xd18889[_0x42ec51]>_0x4ded58&&(_0x4ded58=_0xd18889[_0x42ec51],_0x19f4e7=_0x42ec51);}_0x2c23a6[_0x18e4ed(0x21e)]=_0x19f4e7;});});}function renderPercentageTable(_0x3c4f68,_0x2d6f0d){const _0x5d0108=_0x1a7f45,_0x32e30a=document['getElementById'](_0x5d0108(0x26d)),{predikat:predikat={}}=globalSettings,_0x78266e=predikat[_0x5d0108(0x257)]||_0x5d0108(0x1e7),_0x1b012f=predikat[_0x5d0108(0x283)]||_0x5d0108(0x23c),_0x2a0eea=predikat[_0x5d0108(0x1ca)]||_0x5d0108(0x1fb),_0x8cad93=[_0x5d0108(0x20e),_0x78266e,_0x1b012f,_0x2a0eea];_0x32e30a[_0x5d0108(0x21a)]=_0x5d0108(0x217)+_0x8cad93[_0x5d0108(0x1a5)](_0x1c6d06=>'<th>'+_0x1c6d06+'</th>')['join']('')+_0x5d0108(0x235);const _0x5f5779=_0x32e30a[_0x5d0108(0x18e)](_0x5d0108(0x225)),_0x574a4d=Object[_0x5d0108(0x23d)](_0x2d6f0d)['length'];if(_0x574a4d===0x0){_0x5f5779[_0x5d0108(0x21a)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x22>Tidak\x20ada\x20data.</td></tr>',renderKesimpulan(null);return;}const _0x5c63be=[_0x5d0108(0x158),_0x5d0108(0x1f0),_0x5d0108(0x1c7),_0x5d0108(0x234),_0x5d0108(0x247),_0x5d0108(0x216),_0x5d0108(0x1ab)],_0x38ebbe=[_0x5d0108(0x189),_0x5d0108(0x204),_0x5d0108(0x20b),'olahraga',_0x5d0108(0x15c),_0x5d0108(0x1b8),_0x5d0108(0x231)],_0x22e3d2=[];_0x38ebbe['forEach']((_0x273c92,_0x1563d7)=>{const _0x2b0b67=_0x5d0108;let _0x54eca3=0x0,_0x10ba57=0x0,_0x2779d6=0x0;Object[_0x2b0b67(0x14f)](_0x3c4f68)[_0x2b0b67(0x155)](_0xdf0b45=>{_0xdf0b45[_0x273c92]&&(_0x54eca3+=_0xdf0b45[_0x273c92][_0x78266e]||0x0,_0x10ba57+=_0xdf0b45[_0x273c92][_0x1b012f]||0x0,_0x2779d6+=_0xdf0b45[_0x273c92][_0x2a0eea]||0x0);});const _0x311add=_0x54eca3/_0x574a4d*0x64,_0xbb45e7=_0x10ba57/_0x574a4d*0x64,_0x101436=_0x2779d6/_0x574a4d*0x64;_0x22e3d2[_0x2b0b67(0x1bd)]({'label':_0x5c63be[_0x1563d7],'taat':_0x311add,'kurang':_0x101436});const _0x20e2ec=_0x5f5779['insertRow']();_0x20e2ec[_0x2b0b67(0x1c3)]()[_0x2b0b67(0x21e)]=_0x5c63be[_0x1563d7],_0x20e2ec[_0x2b0b67(0x1c3)]()[_0x2b0b67(0x21e)]=_0x311add[_0x2b0b67(0x1cb)](0x1)+_0x2b0b67(0x1fd)+_0x54eca3+_0x2b0b67(0x1e6),_0x20e2ec['insertCell']()[_0x2b0b67(0x21e)]=_0xbb45e7[_0x2b0b67(0x1cb)](0x1)+_0x2b0b67(0x1fd)+_0x10ba57+'\x20siswa)',_0x20e2ec[_0x2b0b67(0x1c3)]()[_0x2b0b67(0x21e)]=_0x101436[_0x2b0b67(0x1cb)](0x1)+_0x2b0b67(0x1fd)+_0x2779d6+_0x2b0b67(0x1e6);}),renderKesimpulan(_0x22e3d2,_0x574a4d);}function renderKesimpulan(_0x1ed103,_0x249d41){const _0x5d47d6=_0x1a7f45,_0x59aaf7=document[_0x5d47d6(0x259)]('kesimpulan-content');if(!_0x1ed103||_0x249d41===0x0){_0x59aaf7[_0x5d47d6(0x21a)]=_0x5d47d6(0x17e);return;}let _0x4f0a9a={'label':'','value':-0x1},_0x10526a={'label':'','value':-0x1};_0x1ed103[_0x5d47d6(0x155)](_0x2023ac=>{const _0x2fc0b3=_0x5d47d6;if(_0x2023ac['taat']>_0x4f0a9a[_0x2fc0b3(0x19d)])_0x4f0a9a={'label':_0x2023ac[_0x2fc0b3(0x15a)],'value':_0x2023ac[_0x2fc0b3(0x16f)]};if(_0x2023ac['kurang']>_0x10526a[_0x2fc0b3(0x19d)])_0x10526a={'label':_0x2023ac[_0x2fc0b3(0x15a)],'value':_0x2023ac[_0x2fc0b3(0x276)]};}),_0x59aaf7['innerHTML']=_0x5d47d6(0x246)+_0x249d41+'\x20siswa</strong>:</p><p><strong>Kategori\x20Terbaik:</strong>\x20<strong>'+_0x4f0a9a[_0x5d47d6(0x15a)]+_0x5d47d6(0x275)+_0x4f0a9a[_0x5d47d6(0x19d)][_0x5d47d6(0x1cb)](0x1)+_0x5d47d6(0x18d)+_0x10526a[_0x5d47d6(0x15a)]+_0x5d47d6(0x275)+_0x10526a[_0x5d47d6(0x19d)]['toFixed'](0x1)+_0x5d47d6(0x265);}function renderGlobalChart(_0x153aa2,_0x401331){const _0x56f39a=_0x1a7f45,{predikat:predikat={}}=globalSettings,_0x181d64=predikat[_0x56f39a(0x257)]||'Anak\x20Hebat',_0x236c90=predikat[_0x56f39a(0x283)]||_0x56f39a(0x23c),_0xa93c51=predikat[_0x56f39a(0x1ca)]||_0x56f39a(0x1fb),_0x9d55a3=[_0x56f39a(0x158),_0x56f39a(0x1f0),_0x56f39a(0x1c7),_0x56f39a(0x234),_0x56f39a(0x247),_0x56f39a(0x216),'Makan\x20Bergizi'],_0x3e6e62=[_0x56f39a(0x189),_0x56f39a(0x204),_0x56f39a(0x20b),_0x56f39a(0x274),_0x56f39a(0x15c),_0x56f39a(0x1b8),'makanBergizi'],_0x4cd565=[],_0x2b6fe2=[],_0x15d0eb=[];_0x3e6e62[_0x56f39a(0x155)](_0x5f0768=>{const _0x1add62=_0x56f39a;let _0x4c6ca2=0x0,_0x3a6f9f=0x0,_0x2d25a2=0x0;Object[_0x1add62(0x14f)](_0x153aa2)[_0x1add62(0x155)](_0x2608bb=>{_0x2608bb[_0x5f0768]&&(_0x4c6ca2+=_0x2608bb[_0x5f0768][_0x181d64]||0x0,_0x3a6f9f+=_0x2608bb[_0x5f0768][_0x236c90]||0x0,_0x2d25a2+=_0x2608bb[_0x5f0768][_0xa93c51]||0x0);}),_0x4cd565[_0x1add62(0x1bd)](_0x4c6ca2),_0x2b6fe2['push'](_0x3a6f9f),_0x15d0eb['push'](_0x2d25a2);});const _0x39a7a9=document[_0x56f39a(0x259)]('globalChart')[_0x56f39a(0x1a3)]('2d');if(chartInstances[_0x56f39a(0x1af)])chartInstances[_0x56f39a(0x1af)][_0x56f39a(0x1f2)]();chartInstances[_0x56f39a(0x1af)]=new Chart(_0x39a7a9,{'type':_0x56f39a(0x284),'data':{'labels':_0x9d55a3,'datasets':[{'label':_0x181d64,'data':_0x4cd565,'backgroundColor':'rgba(22,\x20163,\x2074,\x200.7)'},{'label':_0x236c90,'data':_0x2b6fe2,'backgroundColor':_0x56f39a(0x1de)},{'label':_0xa93c51,'data':_0x15d0eb,'backgroundColor':'rgba(239,\x2068,\x2068,\x200.7)'}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'x':{'stacked':!![]},'y':{'stacked':!![],'beginAtZero':!![]}},'plugins':{'title':{'display':!![],'text':'Grafik\x20Predikat\x20-\x20'+(_0x401331||_0x56f39a(0x1a1)),'font':{'size':0x12}}}}});}function downloadGlobalRekapPDF(){const _0x2acd8e=_0x1a7f45,{jsPDF:_0x26fec1}=window[_0x2acd8e(0x15b)],_0x13f6c2=new _0x26fec1({'orientation':_0x2acd8e(0x22e)}),_0x2bf735=globalSettings[_0x2acd8e(0x27b)]||{},_0x2ce059=document[_0x2acd8e(0x259)]('startDate')[_0x2acd8e(0x19d)]&&document[_0x2acd8e(0x259)](_0x2acd8e(0x270))[_0x2acd8e(0x19d)]?_0x2acd8e(0x209)+document['getElementById'](_0x2acd8e(0x22d))['value']+_0x2acd8e(0x208)+document['getElementById']('endDate')[_0x2acd8e(0x19d)]:'';_0x13f6c2[_0x2acd8e(0x198)](0x10),_0x13f6c2[_0x2acd8e(0x212)](_0x2bf735[_0x2acd8e(0x23a)]||_0x2acd8e(0x18f),_0x13f6c2[_0x2acd8e(0x154)]['pageSize'][_0x2acd8e(0x1d8)]()/0x2,0xf,{'align':_0x2acd8e(0x1e1)});if(_0x2ce059)_0x13f6c2[_0x2acd8e(0x212)](_0x2ce059,_0x13f6c2[_0x2acd8e(0x154)]['pageSize'][_0x2acd8e(0x1d8)]()/0x2,0x16,{'align':_0x2acd8e(0x1e1)});_0x13f6c2[_0x2acd8e(0x27e)]({'html':'#globalRekapTable','startY':0x23});let _0x58a7fb=_0x13f6c2['autoTable'][_0x2acd8e(0x1d5)][_0x2acd8e(0x205)];_0x13f6c2[_0x2acd8e(0x27e)]({'html':_0x2acd8e(0x1c4),'startY':_0x58a7fb+0xa}),_0x13f6c2[_0x2acd8e(0x232)](_0x2acd8e(0x19f)+Date['now']()+_0x2acd8e(0x1fe));}function processStudentData(_0x234cf4){const _0x4b084d=_0x1a7f45,{ibadahSettings:ibadahSettings=[],waktu:waktu={}}=globalSettings,_0x3cd5be=ibadahSettings[_0x4b084d(0x1a0)](_0x3713ef=>_0x3713ef)[_0x4b084d(0x272)],_0x3c4835=waktu[_0x4b084d(0x20b)]||_0x4b084d(0x1d6),_0x3d54cd=waktu[_0x4b084d(0x204)]||_0x4b084d(0x19a),_0x1d769f={};return _0x234cf4['forEach'](_0xdeb0b5=>{const _0x264040=_0x4b084d;if(!_0xdeb0b5[_0x264040(0x1c9)]||!_0xdeb0b5[_0x264040(0x258)])return;const _0x251c27=_0xdeb0b5[_0x264040(0x1c9)]+'-'+_0xdeb0b5[_0x264040(0x258)];if(!_0x1d769f[_0x251c27])_0x1d769f[_0x251c27]={'kelas':_0xdeb0b5[_0x264040(0x1c9)],'nama':_0xdeb0b5[_0x264040(0x258)],'totalHari':0x0,'beribadah':0x0,'tidurCepat':0x0,'bangunPagi':0x0,'olahraga':0x0,'belajar':0x0,'bermasyarakat':0x0,'makanBergizi':0x0};const _0x2d71ae=_0x1d769f[_0x251c27];_0x2d71ae[_0x264040(0x192)]++;let _0x224935=0x0;for(let _0x51eee7=0x0;_0x51eee7<0x7;_0x51eee7++){if(ibadahSettings[_0x51eee7]&&String(_0xdeb0b5[_0x264040(0x1b0)+(_0x51eee7+0x1)]||'')['trim']())_0x224935++;}if(_0x3cd5be>0x0&&_0x224935>=_0x3cd5be)_0x2d71ae[_0x264040(0x189)]++;if(_0xdeb0b5['bangunPagi']&&_0xdeb0b5[_0x264040(0x20b)]<=_0x3c4835)_0x2d71ae[_0x264040(0x20b)]++;if(_0xdeb0b5[_0x264040(0x204)]&&_0xdeb0b5[_0x264040(0x204)]<=_0x3d54cd)_0x2d71ae[_0x264040(0x204)]++;if(String(_0xdeb0b5[_0x264040(0x195)]||'')[_0x264040(0x1cc)]())_0x2d71ae[_0x264040(0x274)]++;if(String(_0xdeb0b5['tempatBelajar']||'')[_0x264040(0x1cc)]()&&String(_0xdeb0b5['materiBelajar']||'')[_0x264040(0x1cc)]())_0x2d71ae[_0x264040(0x15c)]++;if(String(_0xdeb0b5[_0x264040(0x230)]||'')[_0x264040(0x1cc)]())_0x2d71ae['bermasyarakat']++;if(_0xdeb0b5[_0x264040(0x174)]&&_0xdeb0b5[_0x264040(0x229)]&&_0xdeb0b5[_0x264040(0x175)]&&_0xdeb0b5[_0x264040(0x1ed)]&&_0xdeb0b5['makananAir'])_0x2d71ae[_0x264040(0x231)]++;}),_0x1d769f;}function processClassData(_0x188344){const _0x14357f=_0x1a7f45,{predikat:predikat={}}=globalSettings,_0x211a72={},_0x2232de=[_0x14357f(0x189),'tidurCepat',_0x14357f(0x20b),'olahraga','belajar',_0x14357f(0x1b8),_0x14357f(0x231)];for(const _0xa67e2a in _0x188344){const _0x28f73f=_0x188344[_0xa67e2a];!_0x211a72[_0x28f73f['kelas']]&&(_0x211a72[_0x28f73f[_0x14357f(0x1c9)]]={},_0x2232de[_0x14357f(0x155)](_0x3959c7=>_0x211a72[_0x28f73f[_0x14357f(0x1c9)]][_0x3959c7]={})),_0x2232de[_0x14357f(0x155)](_0x101f62=>{const _0x24e90e=_0x14357f;let _0x43771d=predikat[_0x24e90e(0x1ca)]||_0x24e90e(0x1fb);if(_0x28f73f[_0x24e90e(0x192)]>0x0){const _0x14688c=_0x28f73f[_0x101f62]/_0x28f73f[_0x24e90e(0x192)]*0x64;if(_0x14688c>=(predikat[_0x24e90e(0x14b)]||0x55))_0x43771d=predikat[_0x24e90e(0x257)]||_0x24e90e(0x1e7);else _0x14688c>=(predikat['terbiasaValue']||0x46)&&(_0x43771d=predikat['terbiasaText']||'Terbiasa');}_0x211a72[_0x28f73f['kelas']][_0x101f62][_0x43771d]=(_0x211a72[_0x28f73f[_0x24e90e(0x1c9)]][_0x101f62][_0x43771d]||0x0)+0x1;});}return _0x211a72;}function filterSupervisiTable(){const _0x5acd1d=_0x1a7f45,_0x5b8e0a=document[_0x5acd1d(0x259)](_0x5acd1d(0x16e))[_0x5acd1d(0x19d)],_0x3d9491=document['querySelectorAll'](_0x5acd1d(0x22b));_0x3d9491['forEach'](_0x1d8b38=>{const _0x17d672=_0x5acd1d,_0x2ecce3=_0x1d8b38[_0x17d672(0x20c)]('tbody\x20tr');_0x2ecce3[_0x17d672(0x155)](_0x78ae1a=>{const _0x565356=_0x17d672;_0x78ae1a[_0x565356(0x166)][_0x565356(0x281)]=_0x5b8e0a===''||_0x78ae1a[_0x565356(0x1aa)][_0x565356(0x1da)]===_0x5b8e0a?'':_0x565356(0x1d1);});});}function renderSupervisiGuru(){const _0xedd37b=_0x1a7f45,_0x559d7b=document['getElementById'](_0xedd37b(0x1d2));_0x559d7b['innerHTML']=_0xedd37b(0x17c);const _0x1ab3fd=(globalSettings[_0xedd37b(0x1ac)]?.[_0xedd37b(0x1fc)]||[])[_0xedd37b(0x1a0)](_0x26e543=>_0x26e543?.[_0xedd37b(0x202)]),_0xb385c0=(globalSettings['supervisiSettings']?.['kegiatan']||[])[_0xedd37b(0x1a0)](_0x36af02=>_0x36af02?.['aktif']);let _0x4ff7c4='<div\x20class=\x22card\x22><h2><i\x20class=\x22fas\x20fa-folder-open\x22></i>\x20Supervisi\x20Administrasi</h2><div\x20class=\x22table-wrapper\x22><table\x20id=\x22admTable\x22><thead><tr><th>Guru</th>';_0x1ab3fd['forEach'](_0xb411c6=>{const _0x2b7487=_0xedd37b;_0x4ff7c4+=_0x2b7487(0x14e)+_0xb411c6[_0x2b7487(0x261)]+_0x2b7487(0x1bc);}),_0x4ff7c4+=_0xedd37b(0x288),allGuruData[_0xedd37b(0x155)](_0x1a87fb=>{const _0x129e30=_0xedd37b;_0x4ff7c4+=_0x129e30(0x1cf)+_0x1a87fb['nip']+_0x129e30(0x1ae)+_0x1a87fb[_0x129e30(0x261)]+'</td>';const _0x1b5637=allGuruAdmData[_0x1a87fb[_0x129e30(0x1da)]]||{};_0x1ab3fd[_0x129e30(0x155)](_0xb57bf5=>{const _0x3a9cb3=_0x129e30,_0x3bd912=_0x1b5637[_0xb57bf5['id']]||{};let _0x213034=_0x3a9cb3(0x17a),_0x2447cd=_0x3a9cb3(0x285);if(_0x3bd912[_0x3a9cb3(0x27a)])switch(_0x3bd912[_0x3a9cb3(0x16a)]){case _0x3a9cb3(0x167):_0x213034=_0x3a9cb3(0x1b7),_0x2447cd=_0x3a9cb3(0x167);break;case _0x3a9cb3(0x1f8):case _0x3a9cb3(0x1ec):_0x213034=_0x3a9cb3(0x1f3),_0x2447cd=_0x3a9cb3(0x14c);break;case _0x3a9cb3(0x1df):_0x213034=_0x3a9cb3(0x18a),_0x2447cd=_0x3a9cb3(0x1df);break;default:_0x213034='fas\x20fa-search\x20text-secondary',_0x2447cd=_0x3a9cb3(0x28a);}_0x4ff7c4+=_0x3a9cb3(0x162)+_0x213034+_0x3a9cb3(0x24f)+_0x2447cd+_0x3a9cb3(0x227)+_0x1a87fb[_0x3a9cb3(0x1da)]+_0x3a9cb3(0x19c)+_0x1a87fb[_0x3a9cb3(0x261)]+_0x3a9cb3(0x19c)+_0xb57bf5['id']+_0x3a9cb3(0x19c)+_0xb57bf5[_0x3a9cb3(0x261)]+'\x27)\x22></i></td>';}),_0x4ff7c4+='</tr>';}),_0x4ff7c4+=_0xedd37b(0x1a8);let _0x1b7344=_0xedd37b(0x1b4);_0xb385c0[_0xedd37b(0x155)](_0x5e0460=>{const _0x13c19c=_0xedd37b;_0x1b7344+=_0x13c19c(0x14e)+_0x5e0460[_0x13c19c(0x261)]+_0x13c19c(0x1bc);}),_0x1b7344+=_0xedd37b(0x288),allGuruData['forEach'](_0x7c00e6=>{const _0xcede6b=_0xedd37b;_0x1b7344+=_0xcede6b(0x1cf)+_0x7c00e6['nip']+_0xcede6b(0x1ae)+_0x7c00e6[_0xcede6b(0x261)]+'</td>';const _0x253872=allGuruSupervisiData[_0x7c00e6['nip']]||{};_0xb385c0[_0xcede6b(0x155)](_0x4ecb77=>{const _0x1dd3ab=_0xcede6b,_0x39a72a=_0x253872[_0x4ecb77['id']]||{};let _0x1755a3=_0x1dd3ab(0x17a),_0x2bc8ac=_0x1dd3ab(0x285);(_0x39a72a[_0x1dd3ab(0x1db)]||_0x39a72a[_0x1dd3ab(0x250)])&&(_0x1755a3=_0x39a72a[_0x1dd3ab(0x170)]?_0x1dd3ab(0x190):_0x1dd3ab(0x17d),_0x2bc8ac=_0x39a72a[_0x1dd3ab(0x170)]?_0x1dd3ab(0x156)+_0x39a72a[_0x1dd3ab(0x170)]:_0x1dd3ab(0x17b)),_0x1b7344+=_0x1dd3ab(0x162)+_0x1755a3+'\x20status-icon\x22\x20title=\x22'+_0x2bc8ac+_0x1dd3ab(0x22a)+_0x7c00e6[_0x1dd3ab(0x1da)]+_0x1dd3ab(0x19c)+_0x7c00e6[_0x1dd3ab(0x261)]+_0x1dd3ab(0x19c)+_0x4ecb77['id']+_0x1dd3ab(0x19c)+_0x4ecb77['nama']+_0x1dd3ab(0x224);}),_0x1b7344+=_0xcede6b(0x168);}),_0x1b7344+='</tbody></table></div></div>',_0x559d7b[_0xedd37b(0x21a)]=_0x4ff7c4+_0x1b7344,filterSupervisiTable();}function openAdmModal(_0x5cadbb,_0x39c96e,_0x3d69e5,_0x21b1ee){const _0x523a3c=_0x1a7f45,_0x4e1973=allGuruAdmData[_0x5cadbb]?.[_0x3d69e5]||{};document[_0x523a3c(0x259)]('admModalTitle')[_0x523a3c(0x21e)]=_0x523a3c(0x157)+_0x21b1ee,document['getElementById'](_0x523a3c(0x173))[_0x523a3c(0x21a)]=_0x4e1973[_0x523a3c(0x27a)]?_0x523a3c(0x263)+_0x4e1973[_0x523a3c(0x27a)]+_0x523a3c(0x27d)+_0x39c96e+_0x523a3c(0x244):'Guru\x20belum\x20menginput\x20link.',document[_0x523a3c(0x259)](_0x523a3c(0x188))[_0x523a3c(0x19d)]=_0x4e1973[_0x523a3c(0x16a)]||_0x523a3c(0x28a),document[_0x523a3c(0x259)](_0x523a3c(0x159))['value']=_0x4e1973[_0x523a3c(0x248)]||'',document['getElementById'](_0x523a3c(0x25e))[_0x523a3c(0x268)]=()=>saveAdmChanges(_0x5cadbb,_0x3d69e5),openModal(_0x523a3c(0x1c1));}function openSupervisiModal(_0x3087de,_0x647ab7,_0x1cdf5a,_0x17975d){const _0x386635=_0x1a7f45,_0xe5963e=allGuruSupervisiData[_0x3087de]?.[_0x1cdf5a]||{};document[_0x386635(0x259)]('supervisiModalTitle')[_0x386635(0x21e)]=_0x386635(0x176)+_0x17975d;const _0x1b6a1d=_0xe5963e['urlDokumen']?'<a\x20href=\x22'+_0xe5963e['urlDokumen']+_0x386635(0x278):_0x386635(0x1b9),_0x57508e=_0xe5963e[_0x386635(0x250)]?_0x386635(0x263)+_0xe5963e['urlFoto']+_0x386635(0x260):_0x386635(0x193);document[_0x386635(0x259)](_0x386635(0x27c))['innerHTML']=_0x1b6a1d+_0x386635(0x1be)+_0x57508e,document['getElementById'](_0x386635(0x1f6))[_0x386635(0x19d)]=_0xe5963e[_0x386635(0x15d)]||'',document['getElementById'](_0x386635(0x1b5))[_0x386635(0x19d)]=_0xe5963e['nilai']||'',document[_0x386635(0x259)](_0x386635(0x194))[_0x386635(0x19d)]=_0xe5963e[_0x386635(0x248)]||'',document[_0x386635(0x259)]('supervisiModalSaveButton')[_0x386635(0x268)]=()=>saveSupervisiChanges(_0x3087de,_0x1cdf5a),openModal(_0x386635(0x214));}async function saveAdmChanges(_0x574c91,_0x189cd5){const _0x146de9=_0x1a7f45,_0x213e16=document['getElementById']('admModalStatus')[_0x146de9(0x19d)],_0x3b4f6e=document[_0x146de9(0x259)](_0x146de9(0x159))[_0x146de9(0x19d)],_0x40a879=db[_0x146de9(0x1e9)]('administrasi_guru')['doc'](_0x574c91);try{const _0x1cfdec={[_0x189cd5+_0x146de9(0x1f7)]:_0x213e16,[_0x189cd5+_0x146de9(0x180)]:_0x3b4f6e};await _0x40a879[_0x146de9(0x26b)](_0x1cfdec);if(!allGuruAdmData[_0x574c91])allGuruAdmData[_0x574c91]={};if(!allGuruAdmData[_0x574c91][_0x189cd5])allGuruAdmData[_0x574c91][_0x189cd5]={};allGuruAdmData[_0x574c91][_0x189cd5][_0x146de9(0x16a)]=_0x213e16,allGuruAdmData[_0x574c91][_0x189cd5]['komentar']=_0x3b4f6e,closeModal(_0x146de9(0x1c1)),renderSupervisiGuru(),showInfoModal(_0x146de9(0x182),_0x146de9(0x1eb));}catch(_0x99e47e){_0x99e47e[_0x146de9(0x253)]===_0x146de9(0x1dd)?showInfoModal(_0x146de9(0x18c),'Error'):showInfoModal(_0x146de9(0x1e0)+_0x99e47e['message'],_0x146de9(0x23e));}}async function saveSupervisiChanges(_0x5535be,_0x2fbb18){const _0x567492=_0x1a7f45,_0x3648af=document[_0x567492(0x259)](_0x567492(0x1f6))[_0x567492(0x19d)],_0x807b2f=document[_0x567492(0x259)](_0x567492(0x1b5))[_0x567492(0x19d)],_0x41a0d6=document[_0x567492(0x259)](_0x567492(0x194))['value'],_0x2e3836=db[_0x567492(0x1e9)]('supervisi_guru')['doc'](_0x5535be);try{const _0x597bdf={[_0x2fbb18+'.tanggal']:_0x3648af,[_0x2fbb18+'.nilai']:_0x807b2f,[_0x2fbb18+'.komentar']:_0x41a0d6};await _0x2e3836[_0x567492(0x26b)](_0x597bdf);const _0x59b85d=allGuruSupervisiData[_0x5535be]?.[_0x2fbb18]||{};if(!allGuruSupervisiData[_0x5535be])allGuruSupervisiData[_0x5535be]={};allGuruSupervisiData[_0x5535be][_0x2fbb18]={..._0x59b85d,'tanggal':_0x3648af,'nilai':_0x807b2f,'komentar':_0x41a0d6},closeModal('supervisiModal'),renderSupervisiGuru(),showInfoModal('Perubahan\x20supervisi\x20disimpan!','Sukses');}catch(_0x50ab0d){if(_0x50ab0d['code']===_0x567492(0x1dd)){const _0x309032={[_0x2fbb18]:{'tanggal':_0x3648af,'nilai':_0x807b2f,'komentar':_0x41a0d6}};await _0x2e3836[_0x567492(0x15f)](_0x309032,{'merge':!![]}),allGuruSupervisiData[_0x5535be]={...allGuruSupervisiData[_0x5535be],..._0x309032},closeModal(_0x567492(0x214)),renderSupervisiGuru(),showInfoModal(_0x567492(0x252),'Sukses');}else showInfoModal(_0x567492(0x1e0)+_0x50ab0d[_0x567492(0x164)],'Error');}}
    </script>
</body>
</html>

