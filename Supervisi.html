<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supervisi</title>
    <link id="favicon" rel="icon" type="image/x-icon" href="">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #4F46E5; --secondary-color: #6B7280; --success-color: #10B981;
            --danger-color: #EF4444; --warning-color: #F59E0B; --info-color: #3B82F6;
            --light-color: #F9FAFB; --dark-color: #1F2937; --background-color: #F3F4F6;
            --text-color: #111827; --card-bg-color: #ffffff; --shadow: 0 4px 15px rgba(0, 0, 0, 0.07);
            --border-radius: 12px;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--background-color); color: var(--text-color); line-height: 1.6; }
        
        .menubar {
            width: 100%;
            background-color: var(--dark-color);
            color: #E5E7EB;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
            height: 70px;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .menubar-header h2 { font-size: 22px; color: white; }
        .menubar-nav { display: flex; gap: 5px; }
        .menubar-nav a {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #D1D5DB;
            text-decoration: none;
            padding: 10px 15px;
            font-weight: 500;
            border-radius: 8px;
            transition: background-color 0.2s, color 0.2s;
        }
        .menubar-nav a:hover { background-color: #374151; color: white; }
        .menubar-nav a.active { background-color: var(--primary-color); color: white; }

        .main-content { margin-top: 90px; padding: 30px; }
        .page { display: none; }
        .page.active { display: block; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; flex-wrap: wrap; gap: 15px;}
        .page-header h1 { font-size: 32px; font-weight: 700; }
        .btn { padding: 10px 20px; border: none; cursor: pointer; font-size: 15px; font-weight: 500; border-radius: 8px; transition: all 0.2s; display: inline-flex; align-items: center; gap: 8px; }
        .btn-primary { background-color: var(--primary-color); color: white; } .btn-primary:hover { background-color: #4338CA; }
        .card { background-color: var(--card-bg-color); padding: 25px; border-radius: var(--border-radius); box-shadow: var(--shadow); margin-bottom: 30px; }
        .table-wrapper { 
            overflow: auto;
            max-height: 60vh;
        }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px 15px; border-bottom: 1px solid #E5E7EB; text-align: left; white-space: nowrap;}
        th { background-color: var(--light-color); font-weight: 600; position: sticky; top: 0; z-index: 1;}
        td.text-center { text-align: center; }
        .filters-container { display: flex; flex-wrap: wrap; gap: 20px; align-items: center; margin-bottom: 25px; }
        .filter-group { display: flex; align-items: center; gap: 10px; }
        .filter-group label { font-weight: 500; }
        .filter-group select { padding: 8px 12px; border-radius: 8px; border: 1px solid #D1D5DB; }
        
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        .chart-wrapper {
            position: relative;
            height: 40vh;
            min-height: 300px;
            margin-top: 20px;
        }

        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); align-items: center; justify-content: center; animation: fadeIn 0.3s; }
        .modal.show { display: flex; }
        .modal-content { background-color: var(--card-bg-color); padding: 30px; border-radius: var(--border-radius); width: 90%; max-width: 550px; box-shadow: var(--shadow); animation: slideIn 0.3s; display: flex; flex-direction: column; max-height: 90vh; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
        .modal-header h3 { margin: 0; font-size: 1.3em; display: flex; align-items: center; gap: 10px; }
        .modal-header .close { font-size: 32px; font-weight: bold; cursor: pointer; color: #aaa; transition: color 0.2s; }
        .modal-header .close:hover { color: var(--danger-color); }
        
        .modal-body {
            overflow-y: auto;
        }
        .modal-body .info-item {
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #f0f0f0;
        }
        .modal-body .info-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .modal-body .info-label {
            font-weight: 600;
            color: var(--secondary-color);
            margin-bottom: 8px;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .modal-body .info-value {
            font-size: 1em;
            color: var(--text-color);
            word-wrap: break-word;
            line-height: 1.5;
        }
        .modal-body .info-value a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
        }
        .modal-body .info-value a:hover {
            text-decoration: underline;
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.85em;
            display: inline-block;
            color: white;
            text-align: center;
        }
        .status-badge-disetujui { background-color: var(--success-color); }
        .status-badge-diperbaiki { background-color: var(--warning-color); }
        .status-badge-ditolak { background-color: var(--danger-color); }
        .status-badge-diperiksa { background-color: var(--secondary-color); }
        .status-badge-default { background-color: #E5E7EB; color: #4B5563; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideIn { from { transform: translateY(-30px); } to { transform: translateY(0); } }

        .status-icon { font-size: 1.5em; cursor: pointer; transition: transform 0.2s; }
        .status-icon:hover { transform: scale(1.2); }
        .text-success { color: var(--success-color); }
        .text-warning { color: var(--warning-color); }
        .text-danger { color: var(--danger-color); }
        .text-info { color: var(--info-color); }
        .text-secondary { color: var(--secondary-color); }
        .text-muted { color: #adb5bd; }
    </style>
</head>
<body>
    <header class="menubar">
        <div class="menubar-header">
            <h2 id="schoolNameHeader">Dashboard</h2>
        </div>
        <nav class="menubar-nav">
            <a href="./" class="nav-link"><i class="fas fa-home"></i> Home</a>
            <a href="Kepsek.html" class="nav-link active" data-page="page-supervisi"><i class="fas fa-user-shield"></i> Kepsek</a>
			<a href="Admin.html" class="nav-link active" data-page="page-supervisi"><i class="fas fa-user-shield"></i> Admin</a>
			<a href="Guru.html" class="nav-link active" data-page="page-supervisi"><i class="fas fa-user-shield"></i> Guru</a>
        </nav>
    </header>

    <main class="main-content">
        <div class="page-header">
            <h1 id="pageTitle">Supervisi Guru</h1>
        </div>
        
        <div id="page-supervisi" class="page active">
            <div class="card">
                <div class="filters-container">
                    <div class="filter-group">
                        <label for="guruFilter">Filter Guru:</label>
                        <select id="guruFilter" onchange="filterSupervisiTable()"></select>
                    </div>
                </div>
            </div>
            <div id="supervisi-content"></div>
        </div>
    </main>

    <div id="infoModal" class="modal"><div class="modal-content"><div class="modal-header"><h3 id="infoModalTitle">Pemberitahuan</h3><span class="close" onclick="closeModal('infoModal')">&times;</span></div><div style="padding: 20px 5px;"><p id="infoModalMessage"></p></div></div></div>
    
    <!-- Modal Administrasi -->
    <div id="admModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="admModalTitle">Detail Penilaian Administrasi</h3>
                <span class="close" onclick="closeModal('admModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-link"></i> Dokumen Guru</span>
                    <span class="info-value" id="admModalLink"></span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-clipboard-check"></i> Status</span>
                    <span class="info-value" id="admModalStatus"></span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-comment-dots"></i> Komentar</span>
                    <span class="info-value" id="admModalKomentar"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Supervisi -->
    <div id="supervisiModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="supervisiModalTitle">Detail Penilaian Supervisi</h3>
                <span class="close" onclick="closeModal('supervisiModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-link"></i> Link dari Guru</span>
                    <span class="info-value" id="supervisiModalLinks"></span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-calendar-alt"></i> Tanggal Pelaksanaan</span>
                    <span class="info-value" id="supervisiModalTanggal"></span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-star"></i> Nilai</span>
                    <span class="info-value" id="supervisiModalNilai"></span>
                </div>
                <div class="info-item">
                    <span class="info-label"><i class="fas fa-comment-dots"></i> Komentar</span>
                    <span class="info-value" id="supervisiModalKomentar"></span>
                </div>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <script>
	const _0x997341=_0x1266;(function(_0x3e3e97,_0x6ecde9){const _0x524fc2=_0x1266,_0x216712=_0x3e3e97();while(!![]){try{const _0x28efad=parseInt(_0x524fc2(0xe1))/0x1+-parseInt(_0x524fc2(0xcf))/0x2*(parseInt(_0x524fc2(0xc0))/0x3)+parseInt(_0x524fc2(0xc6))/0x4*(parseInt(_0x524fc2(0xda))/0x5)+-parseInt(_0x524fc2(0xeb))/0x6*(parseInt(_0x524fc2(0x125))/0x7)+-parseInt(_0x524fc2(0x12b))/0x8*(parseInt(_0x524fc2(0x124))/0x9)+-parseInt(_0x524fc2(0xaf))/0xa*(parseInt(_0x524fc2(0xa6))/0xb)+parseInt(_0x524fc2(0xb7))/0xc;if(_0x28efad===_0x6ecde9)break;else _0x216712['push'](_0x216712['shift']());}catch(_0xbf69e8){_0x216712['push'](_0x216712['shift']());}}}(_0x8d26,0xf2a7f));const firebaseConfig={'apiKey':'AIzaSyBzBDsyG-XOD8n_IbwdSmpaAw5lnPqt9QI','authDomain':_0x997341(0x118),'projectId':'agungp-23b34','storageBucket':'agungp-23b34.firebasestorage.app','messagingSenderId':'1013129803727','appId':_0x997341(0xe0)};!firebase['apps'][_0x997341(0xe2)]&&firebase[_0x997341(0x134)](firebaseConfig);const db=firebase[_0x997341(0xd3)]();function _0x8d26(){const _0x28497e=['filter','administrasi_guru','supervisiModalLinks','2360866fkxDVE','</tbody></table></div></div>','administrasi','fas\x20fa-search\x20text-secondary','firestore','<th>','fas\x20fa-tasks\x20text-info','</tr></thead><tbody>','diperbaiki','url','destroy','10kzuVim','<div\x20class=\x22card\x20text-center\x22><p>Memuat\x20data\x20supervisi...</p></div>','Belum\x20ada\x20link','status','Sudah\x20Dinilai','Belum\x20dinilai.','1:1013129803727:web:97bf8baac74e07643884ba','92820SidyhY','length','schoolNameHeader','supervisi-content','<span\x20class=\x22status-badge\x20status-badge-disetujui\x22>','onload','siap','dinilai','fas\x20fa-exclamation-circle\x20text-muted','<a\x20href=\x22','744uzzLMp','collection','doc','\x27,\x20\x27','urlFoto','\x20status-icon\x22\x20title=\x22','map','docs','tanggal','datasets','supervisiModalTitle','disetujui','<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20Detail:\x20','get','rgba(255,\x2099,\x20132,\x200.7)','supervisiChart','long','forEach','nilai','<em>Guru\x20belum\x20menginput\x20link.</em>','rgba(75,\x20192,\x20192,\x200.7)','add','aktif','users','admModal','Tidak\x20ada\x20komentar.','infoModalTitle','<td\x20class=\x22text-center\x22><i\x20class=\x22','</td>','nama','bar','admModalTitle','all','classList','Memuat\x20data,\x20mohon\x20tunggu...','value','</th>','supervisiModalNilai','infoSekolah','favicon','Belum\x20ditentukan.','Error','toLocaleDateString','supervisiModalKomentar','Dashboard\x20Supervisi','agungp-23b34.firebaseapp.com','fas\x20fa-edit\x20text-warning','push','\x22\x20onclick=\x22openAdmModal(\x27','innerHTML','id-ID','Revisi','pengaturan','logo','getElementById','Pemberitahuan','message','459CnejVC','94318GqpeBe','admModalStatus','Ditolak','<option\x20value=\x22\x22>Semua\x20Guru</option>','rgba(255,\x20206,\x2086,\x200.7)','Disetujui','112616PbxmXY','global','top','getContext','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>','Siap\x20dinilai','<tr\x20data-nip=\x22','\x22><td>','show','initializeApp','where','\x20<i\x20class=\x22fas\x20fa-external-link-alt\x20fa-xs\x22></i></a>','fas\x20fa-stamp\x20text-success','<i\x20class=\x22fas\x20fa-file-alt\x22></i>\x20Detail:\x20','nip','supervisiSettings','<em>Belum\x20ada\x20link\x20dokumen.</em>','308uFFsKO','komentar','data','supervisi_guru','\x27)\x22></i></td>','rgba(201,\x20203,\x20207,\x200.7)','Perlu\x20Perbaikan','</tr>','Diperbaiki','421690DJXHCN','urlDokumen','admChart','belum','kegiatan','guruFilter','supervisiModalTanggal','Belum\x20Diperiksa','50080140kiAQoN','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>Lihat\x20Foto\x20<i\x20class=\x22fas\x20fa-external-link-alt\x20fa-xs\x22></i></a>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22charts-grid\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20Status\x20Supervisi\x20Administrasi</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chart-wrapper\x22><canvas\x20id=\x22admChart\x22></canvas></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20Status\x20Supervisi\x20Kelas</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chart-wrapper\x22><canvas\x20id=\x22supervisiChart\x22></canvas></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exists','href','infoModal','ditolak','rgba(153,\x20102,\x20255,\x200.7)','<em>Belum\x20ada\x20link\x20foto.</em>','3GjHTGf','localeCompare','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>Lihat\x20Dokumen\x20<i\x20class=\x22fas\x20fa-external-link-alt\x20fa-xs\x22></i></a>','sort','admModalLink','fas\x20fa-times-circle\x20text-danger','2955244EirFch','textContent','Belum\x20Input','\x22\x20onclick=\x22openSupervisiModal(\x27','belumInput','</span>'];_0x8d26=function(){return _0x28497e;};return _0x8d26();}let globalSettings={},allGuruData=[],allGuruAdmData={},allGuruSupervisiData={},dataLoaded=![],chartInstances={};function openModal(_0x2eb208){const _0x3b6142=_0x997341;document[_0x3b6142(0x121)](_0x2eb208)['classList']['add'](_0x3b6142(0x133));}function _0x1266(_0x53724b,_0x45e3c3){const _0x8d26f7=_0x8d26();return _0x1266=function(_0x12669f,_0x4992e4){_0x12669f=_0x12669f-0xa4;let _0x5e9892=_0x8d26f7[_0x12669f];return _0x5e9892;},_0x1266(_0x53724b,_0x45e3c3);}function closeModal(_0x336e4a){const _0x51bc7f=_0x997341;document[_0x51bc7f(0x121)](_0x336e4a)[_0x51bc7f(0x10c)]['remove'](_0x51bc7f(0x133));}function showInfoModal(_0x450b02,_0xebd140=_0x997341(0x122)){const _0x4766b2=_0x997341;document['getElementById'](_0x4766b2(0x105))[_0x4766b2(0xc7)]=_0xebd140,document['getElementById']('infoModalMessage')[_0x4766b2(0xc7)]=_0x450b02,openModal(_0x4766b2(0xbc));}window[_0x997341(0xe6)]=async()=>{const _0x8e5dd4=_0x997341;showInfoModal(_0x8e5dd4(0x10d),'Informasi'),await ensureDataLoaded(),renderSupervisiGuru(),closeModal(_0x8e5dd4(0xbc));};async function ensureDataLoaded(){const _0x6616c4=_0x997341;if(dataLoaded)return;try{const _0xe5fc0=await db[_0x6616c4(0xec)](_0x6616c4(0x11f))[_0x6616c4(0xed)](_0x6616c4(0x12c))['get']();_0xe5fc0[_0x6616c4(0xba)]&&(globalSettings=_0xe5fc0[_0x6616c4(0xa8)](),globalSettings[_0x6616c4(0x111)]&&(document['title']=globalSettings[_0x6616c4(0x111)]['namaSekolah']||_0x6616c4(0x117),document['getElementById'](_0x6616c4(0xe3))[_0x6616c4(0xc7)]=globalSettings['infoSekolah']['namaSekolah']||'Supervisi',globalSettings['infoSekolah'][_0x6616c4(0x120)]&&(document[_0x6616c4(0x121)](_0x6616c4(0x112))[_0x6616c4(0xbb)]=globalSettings['infoSekolah'][_0x6616c4(0x120)])));const [_0x168ec6,_0x38657d,_0x3f72c9]=await Promise[_0x6616c4(0x10b)]([db[_0x6616c4(0xec)](_0x6616c4(0x102))[_0x6616c4(0x135)]('role','==','Guru')['get'](),db[_0x6616c4(0xec)](_0x6616c4(0xcd))[_0x6616c4(0xf8)](),db['collection'](_0x6616c4(0xa9))['get']()]);allGuruData=_0x168ec6[_0x6616c4(0xf2)][_0x6616c4(0xf1)](_0x30c094=>({'id':_0x30c094['id'],..._0x30c094[_0x6616c4(0xa8)]()})),_0x38657d[_0x6616c4(0xfc)](_0x3839df=>{allGuruAdmData[_0x3839df['id']]=_0x3839df['data']();}),_0x3f72c9['forEach'](_0x39d0a5=>{const _0x2b36d0=_0x6616c4;allGuruSupervisiData[_0x39d0a5['id']]=_0x39d0a5[_0x2b36d0(0xa8)]();});const _0x1d8450=document[_0x6616c4(0x121)]('guruFilter');_0x1d8450['options'][_0x6616c4(0xe2)]<=0x1&&(_0x1d8450['innerHTML']=_0x6616c4(0x128),allGuruData[_0x6616c4(0xc3)]((_0x32cc1a,_0x57acaf)=>_0x32cc1a['nama'][_0x6616c4(0xc1)](_0x57acaf[_0x6616c4(0x108)]))[_0x6616c4(0xfc)](_0x66a2a5=>_0x1d8450[_0x6616c4(0x100)](new Option(_0x66a2a5[_0x6616c4(0x108)],_0x66a2a5[_0x6616c4(0x139)])))),dataLoaded=!![];}catch(_0x3cdc6a){showInfoModal('Gagal\x20memuat\x20data\x20awal:\x20'+_0x3cdc6a[_0x6616c4(0x123)],_0x6616c4(0x114));}}function filterSupervisiTable(){renderSupervisiGuru();}function renderSupervisiGuru(){const _0x59938c=_0x997341,_0x1e7ba5=document['getElementById'](_0x59938c(0xe4));_0x1e7ba5[_0x59938c(0x11c)]=_0x59938c(0xdb);if(chartInstances[_0x59938c(0xb1)])chartInstances[_0x59938c(0xb1)][_0x59938c(0xd9)]();if(chartInstances['supervisiChart'])chartInstances[_0x59938c(0xfa)][_0x59938c(0xd9)]();const _0x590517=(globalSettings[_0x59938c(0xa4)]?.[_0x59938c(0xd1)]||[])[_0x59938c(0xcc)](_0xf3f578=>_0xf3f578?.[_0x59938c(0x101)]),_0x2b652e=(globalSettings[_0x59938c(0xa4)]?.[_0x59938c(0xb3)]||[])[_0x59938c(0xcc)](_0xf5f4bc=>_0xf5f4bc?.[_0x59938c(0x101)]),_0x2a40f1=document['getElementById'](_0x59938c(0xb4))[_0x59938c(0x10e)],_0x83fe82=_0x2a40f1?allGuruData['filter'](_0x1c515a=>_0x1c515a[_0x59938c(0x139)]===_0x2a40f1):allGuruData,_0x1d0ade={'labels':_0x590517[_0x59938c(0xf1)](_0x4cc41c=>_0x4cc41c['nama']),'datasets':[{'label':_0x59938c(0x12a),'data':[],'backgroundColor':_0x59938c(0xff)},{'label':_0x59938c(0xae),'data':[],'backgroundColor':_0x59938c(0x129)},{'label':_0x59938c(0x127),'data':[],'backgroundColor':_0x59938c(0xf9)},{'label':_0x59938c(0xb6),'data':[],'backgroundColor':_0x59938c(0xbe)},{'label':_0x59938c(0xc8),'data':[],'backgroundColor':'rgba(201,\x20203,\x20207,\x200.7)'}]};_0x590517['forEach'](_0x21c947=>{const _0x14c0bf=_0x59938c;let _0x32d7c3={'disetujui':0x0,'diperbaiki':0x0,'ditolak':0x0,'belumDiperiksa':0x0,'belumInput':0x0};_0x83fe82[_0x14c0bf(0xfc)](_0x4d2695=>{const _0x4d7e2b=_0x14c0bf,_0x3be015=allGuruAdmData[_0x4d2695['nip']]?.[_0x21c947['id']]||{};if(!_0x3be015['url'])_0x32d7c3[_0x4d7e2b(0xca)]++;else switch(_0x3be015['status']){case _0x4d7e2b(0x12a):_0x32d7c3[_0x4d7e2b(0xf6)]++;break;case _0x4d7e2b(0xae):case _0x4d7e2b(0x11e):_0x32d7c3['diperbaiki']++;break;case _0x4d7e2b(0x127):_0x32d7c3['ditolak']++;break;default:_0x32d7c3['belumDiperiksa']++;}}),_0x1d0ade[_0x14c0bf(0xf4)][0x0][_0x14c0bf(0xa8)][_0x14c0bf(0x11a)](_0x32d7c3['disetujui']),_0x1d0ade[_0x14c0bf(0xf4)][0x1]['data'][_0x14c0bf(0x11a)](_0x32d7c3[_0x14c0bf(0xd7)]),_0x1d0ade['datasets'][0x2][_0x14c0bf(0xa8)][_0x14c0bf(0x11a)](_0x32d7c3[_0x14c0bf(0xbd)]),_0x1d0ade[_0x14c0bf(0xf4)][0x3]['data'][_0x14c0bf(0x11a)](_0x32d7c3['belumDiperiksa']),_0x1d0ade[_0x14c0bf(0xf4)][0x4][_0x14c0bf(0xa8)][_0x14c0bf(0x11a)](_0x32d7c3['belumInput']);});const _0x3dde85={'labels':_0x2b652e[_0x59938c(0xf1)](_0x32d425=>_0x32d425[_0x59938c(0x108)]),'datasets':[{'label':_0x59938c(0xde),'data':[],'backgroundColor':_0x59938c(0xff)},{'label':'Siap\x20Dinilai','data':[],'backgroundColor':'rgba(54,\x20162,\x20235,\x200.7)'},{'label':_0x59938c(0xc8),'data':[],'backgroundColor':_0x59938c(0xab)}]};_0x2b652e['forEach'](_0x4dc58d=>{const _0x245ba0=_0x59938c;let _0x2f9a1c={'dinilai':0x0,'siap':0x0,'belum':0x0};_0x83fe82[_0x245ba0(0xfc)](_0x3ca34d=>{const _0x191b3f=_0x245ba0,_0x2e9f39=allGuruSupervisiData[_0x3ca34d[_0x191b3f(0x139)]]?.[_0x4dc58d['id']]||{};if(_0x2e9f39['nilai'])_0x2f9a1c[_0x191b3f(0xe8)]++;else _0x2e9f39[_0x191b3f(0xb0)]||_0x2e9f39[_0x191b3f(0xef)]?_0x2f9a1c['siap']++:_0x2f9a1c[_0x191b3f(0xb2)]++;}),_0x3dde85[_0x245ba0(0xf4)][0x0][_0x245ba0(0xa8)]['push'](_0x2f9a1c[_0x245ba0(0xe8)]),_0x3dde85[_0x245ba0(0xf4)][0x1][_0x245ba0(0xa8)][_0x245ba0(0x11a)](_0x2f9a1c[_0x245ba0(0xe7)]),_0x3dde85[_0x245ba0(0xf4)][0x2][_0x245ba0(0xa8)][_0x245ba0(0x11a)](_0x2f9a1c[_0x245ba0(0xb2)]);});let _0x39c21b=_0x59938c(0xb9),_0x1a9897='<div\x20class=\x22card\x22><h2><i\x20class=\x22fas\x20fa-folder-open\x22></i>\x20Supervisi\x20Administrasi</h2><div\x20class=\x22table-wrapper\x22><table\x20id=\x22admTable\x22><thead><tr><th>Guru</th>';_0x590517[_0x59938c(0xfc)](_0x38c7e6=>{const _0x2dd33b=_0x59938c;_0x1a9897+=_0x2dd33b(0xd4)+_0x38c7e6['nama']+_0x2dd33b(0x10f);}),_0x1a9897+=_0x59938c(0xd6),_0x83fe82[_0x59938c(0xfc)](_0x5b6775=>{const _0x272296=_0x59938c;_0x1a9897+=_0x272296(0x131)+_0x5b6775[_0x272296(0x139)]+_0x272296(0x132)+_0x5b6775[_0x272296(0x108)]+'</td>';const _0x48a227=allGuruAdmData[_0x5b6775[_0x272296(0x139)]]||{};_0x590517['forEach'](_0x319f67=>{const _0x3392f4=_0x272296,_0x42ce39=_0x48a227[_0x319f67['id']]||{};let _0x55f06e=_0x3392f4(0xe9),_0x11c1a2=_0x3392f4(0xdc);if(_0x42ce39[_0x3392f4(0xd8)])switch(_0x42ce39[_0x3392f4(0xdd)]){case _0x3392f4(0x12a):_0x55f06e='fas\x20fa-check-circle\x20text-success',_0x11c1a2=_0x3392f4(0x12a);break;case'Diperbaiki':case'Revisi':_0x55f06e=_0x3392f4(0x119),_0x11c1a2=_0x3392f4(0xac);break;case _0x3392f4(0x127):_0x55f06e=_0x3392f4(0xc5),_0x11c1a2='Ditolak';break;default:_0x55f06e=_0x3392f4(0xd2),_0x11c1a2=_0x3392f4(0xb6);}_0x1a9897+='<td\x20class=\x22text-center\x22><i\x20class=\x22'+_0x55f06e+_0x3392f4(0xf0)+_0x11c1a2+_0x3392f4(0x11b)+_0x5b6775[_0x3392f4(0x139)]+_0x3392f4(0xee)+_0x5b6775[_0x3392f4(0x108)]+'\x27,\x20\x27'+_0x319f67['id']+_0x3392f4(0xee)+_0x319f67['nama']+'\x27)\x22></i></td>';}),_0x1a9897+=_0x272296(0xad);}),_0x1a9897+=_0x59938c(0xd0);let _0x467dd2='<div\x20class=\x22card\x22><h2><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20Supervisi\x20Kelas</h2><div\x20class=\x22table-wrapper\x22><table\x20id=\x22supervisiTable\x22><thead><tr><th>Guru</th>';_0x2b652e[_0x59938c(0xfc)](_0x2eb068=>{const _0x56840b=_0x59938c;_0x467dd2+=_0x56840b(0xd4)+_0x2eb068['nama']+_0x56840b(0x10f);}),_0x467dd2+=_0x59938c(0xd6),_0x83fe82[_0x59938c(0xfc)](_0x503806=>{const _0x538240=_0x59938c;_0x467dd2+=_0x538240(0x131)+_0x503806[_0x538240(0x139)]+'\x22><td>'+_0x503806['nama']+_0x538240(0x107);const _0x176733=allGuruSupervisiData[_0x503806[_0x538240(0x139)]]||{};_0x2b652e['forEach'](_0x3f6af4=>{const _0x4f8ee5=_0x538240,_0x21780f=_0x176733[_0x3f6af4['id']]||{};let _0x2bb563=_0x4f8ee5(0xe9),_0x2412b2=_0x4f8ee5(0xdc);(_0x21780f['urlDokumen']||_0x21780f['urlFoto'])&&(_0x2bb563=_0x21780f['nilai']?_0x4f8ee5(0x137):_0x4f8ee5(0xd5),_0x2412b2=_0x21780f['nilai']?'Sudah\x20dinilai:\x20'+_0x21780f['nilai']:_0x4f8ee5(0x130)),_0x467dd2+=_0x4f8ee5(0x106)+_0x2bb563+_0x4f8ee5(0xf0)+_0x2412b2+_0x4f8ee5(0xc9)+_0x503806[_0x4f8ee5(0x139)]+_0x4f8ee5(0xee)+_0x503806[_0x4f8ee5(0x108)]+'\x27,\x20\x27'+_0x3f6af4['id']+_0x4f8ee5(0xee)+_0x3f6af4[_0x4f8ee5(0x108)]+_0x4f8ee5(0xaa);}),_0x467dd2+=_0x538240(0xad);}),_0x467dd2+=_0x59938c(0xd0),_0x1e7ba5['innerHTML']=_0x39c21b+_0x1a9897+_0x467dd2;const _0x4828d5=document[_0x59938c(0x121)](_0x59938c(0xb1))['getContext']('2d');chartInstances[_0x59938c(0xb1)]=new Chart(_0x4828d5,{'type':_0x59938c(0x109),'data':_0x1d0ade,'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'position':_0x59938c(0x12d)}},'scales':{'x':{'stacked':!![]},'y':{'stacked':!![],'beginAtZero':!![]}}}});const _0x23900d=document[_0x59938c(0x121)]('supervisiChart')[_0x59938c(0x12e)]('2d');chartInstances['supervisiChart']=new Chart(_0x23900d,{'type':'bar','data':_0x3dde85,'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'position':_0x59938c(0x12d)}},'scales':{'x':{'stacked':!![]},'y':{'stacked':!![],'beginAtZero':!![]}}}});}function openAdmModal(_0x99300b,_0x2117e0,_0x2b00bc,_0x253f49){const _0x2364e0=_0x997341,_0x509c6a=allGuruAdmData[_0x99300b]?.[_0x2b00bc]||{},_0x10cc3d=_0x509c6a['status']||_0x2364e0(0xb6);let _0x533baa='';switch(_0x10cc3d){case _0x2364e0(0x12a):_0x533baa=_0x2364e0(0xe5)+_0x10cc3d+'</span>';break;case _0x2364e0(0xae):case'Revisi':_0x533baa='<span\x20class=\x22status-badge\x20status-badge-diperbaiki\x22>'+_0x10cc3d+_0x2364e0(0xcb);break;case _0x2364e0(0x127):_0x533baa='<span\x20class=\x22status-badge\x20status-badge-ditolak\x22>'+_0x10cc3d+_0x2364e0(0xcb);break;case _0x2364e0(0xb6):_0x533baa='<span\x20class=\x22status-badge\x20status-badge-diperiksa\x22>'+_0x10cc3d+_0x2364e0(0xcb);break;default:_0x533baa='<span\x20class=\x22status-badge\x20status-badge-default\x22>'+_0x10cc3d+_0x2364e0(0xcb);}document['getElementById'](_0x2364e0(0x10a))['innerHTML']=_0x2364e0(0x138)+_0x253f49,document[_0x2364e0(0x121)](_0x2364e0(0xc4))['innerHTML']=_0x509c6a['url']?'<a\x20href=\x22'+_0x509c6a[_0x2364e0(0xd8)]+_0x2364e0(0x12f)+_0x2117e0+_0x2364e0(0x136):_0x2364e0(0xfe),document[_0x2364e0(0x121)](_0x2364e0(0x126))[_0x2364e0(0x11c)]=_0x533baa,document[_0x2364e0(0x121)]('admModalKomentar')[_0x2364e0(0xc7)]=_0x509c6a[_0x2364e0(0xa7)]||_0x2364e0(0x104),openModal(_0x2364e0(0x103));}function openSupervisiModal(_0x483d82,_0x4b4d85,_0x1cf9b4,_0x486d60){const _0xf8638a=_0x997341,_0x41adf7=allGuruSupervisiData[_0x483d82]?.[_0x1cf9b4]||{};document[_0xf8638a(0x121)](_0xf8638a(0xf5))[_0xf8638a(0x11c)]=_0xf8638a(0xf7)+_0x486d60;const _0x3be005=_0x41adf7[_0xf8638a(0xb0)]?_0xf8638a(0xea)+_0x41adf7[_0xf8638a(0xb0)]+_0xf8638a(0xc2):_0xf8638a(0xa5),_0x2eec67=_0x41adf7[_0xf8638a(0xef)]?'<a\x20href=\x22'+_0x41adf7['urlFoto']+_0xf8638a(0xb8):_0xf8638a(0xbf);document[_0xf8638a(0x121)](_0xf8638a(0xce))[_0xf8638a(0x11c)]=_0x3be005+'<br>'+_0x2eec67,document[_0xf8638a(0x121)](_0xf8638a(0xb5))['textContent']=_0x41adf7[_0xf8638a(0xf3)]?new Date(_0x41adf7[_0xf8638a(0xf3)])[_0xf8638a(0x115)](_0xf8638a(0x11d),{'day':'numeric','month':_0xf8638a(0xfb),'year':'numeric'}):_0xf8638a(0x113),document['getElementById'](_0xf8638a(0x110))[_0xf8638a(0xc7)]=_0x41adf7[_0xf8638a(0xfd)]||_0xf8638a(0xdf),document[_0xf8638a(0x121)](_0xf8638a(0x116))[_0xf8638a(0xc7)]=_0x41adf7[_0xf8638a(0xa7)]||_0xf8638a(0x104),openModal('supervisiModal');}
    </script>
</body>
</html>

